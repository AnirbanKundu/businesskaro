angular.module("theme.core.main_controller",["theme.core.services"]).controller("MainController",["$rootScope","$scope","$theme","$timeout","progressLoader","$location","UserAuthentication",function($rootScope,$scope,$theme,$timeout,progressLoader,$location,UserAuthentication){"use strict";$scope.layoutFixedHeader=$theme.get("fixedHeader"),$scope.layoutPageTransitionStyle=$theme.get("pageTransitionStyle"),$scope.layoutDropdownTransitionStyle=$theme.get("dropdownTransitionStyle"),$scope.layoutPageTransitionStyleList=["fadeInDown"],$scope.layoutLoading=!0,$scope.getLayoutOption=function(key){return $theme.get(key)},$scope.setNavbarClass=function(classname,$event){$event.preventDefault(),$event.stopPropagation(),$theme.set("topNavThemeClass",classname)},$scope.setSidebarClass=function(classname,$event){$event.preventDefault(),$event.stopPropagation(),$theme.set("sidebarThemeClass",classname)},$scope.$watch("layoutFixedHeader",function(newVal,oldval){void 0!==newVal&&newVal!==oldval&&$theme.set("fixedHeader",newVal)}),$scope.$watch("layoutLayoutBoxed",function(newVal,oldval){void 0!==newVal&&newVal!==oldval&&$theme.set("layoutBoxed",newVal)}),$scope.$watch("layoutLayoutHorizontal",function(newVal,oldval){void 0!==newVal&&newVal!==oldval&&$theme.set("layoutHorizontal",newVal)}),$scope.$watch("layoutPageTransitionStyle",function(newVal){$theme.set("pageTransitionStyle",newVal)}),$scope.$watch("layoutDropdownTransitionStyle",function(newVal){$theme.set("dropdownTransitionStyle",newVal)}),$scope.hideHeaderBar=function(){},$scope.showHeaderBar=function($event){$event.stopPropagation(),$theme.set("headerBarHidden",!1)},$scope.toggleLeftBar=function(){return $scope.layoutIsSmallScreen?$theme.set("leftbarShown",!$theme.get("leftbarShown")):void $theme.set("leftbarCollapsed",!$theme.get("leftbarCollapsed"))},$scope.toggleRightBar=function(){$theme.set("rightbarCollapsed",!$theme.get("rightbarCollapsed"))},$scope.toggleSearchBar=function($event){$event.stopPropagation(),$event.preventDefault(),$theme.set("showSmallSearchBar",!$theme.get("showSmallSearchBar"))},$scope.chatters=[],$scope.currentChatterId=null,$scope.hideChatBox=function(){$theme.set("showChatBox",!1)},$scope.toggleChatBox=function(chatter,$event){$event.preventDefault(),$scope.currentChatterId===chatter.id?$theme.set("showChatBox",!$theme.get("showChatBox")):$theme.set("showChatBox",!0),$scope.currentChatterId=chatter.id},$scope.hideChatBox=function(){$theme.set("showChatBox",!1)},$scope.$on("themeEvent:maxWidth767",function(event,newVal){$timeout(function(){$scope.layoutIsSmallScreen=newVal,newVal?$theme.set("leftbarCollapsed",!1):$theme.set("leftbarShown",!1)})}),$scope.$on("themeEvent:changed:fixedHeader",function(event,newVal){$scope.layoutFixedHeader=newVal}),$scope.$on("themeEvent:changed:layoutHorizontal",function(event,newVal){$scope.layoutLayoutHorizontal=newVal}),$scope.$on("themeEvent:changed:layoutBoxed",function(event,newVal){$scope.layoutLayoutBoxed=newVal}),(!$rootScope.loggedIn||"called"!=$rootScope.loggedIn&&"loggedin"!=$rootScope.loggedIn)&&($rootScope.loggedIn="called",$scope.isLoggedIn=!1,UserAuthentication.getUserDetails().then(function(response){console.log("User details are",response),$scope.$emit("loginsuccess",response.data)},function(error){console.log("error",error),$scope.isLoggedIn=!1})),$scope.logOut=function(){UserAuthentication.logOut().then(function(){$scope.isLoggedIn=!1,$rootScope.UserDetail={},setTimeout(function(){$location.path("/")},50)},function(){})},$scope.logIn=function(){$scope.isLoggedIn=!0},$rootScope.$on("loginsuccess",function(event,data){$rootScope.profileCreated=data.profileCreated,$scope.isLoggedIn=!0,$rootScope.UserDetail=data}),$scope.rightbarAccordionsShowOne=!1,$scope.rightbarAccordions=[{open:!0},{open:!0},{open:!0},{open:!0},{open:!0},{open:!0},{open:!0}],$scope.$on("$routeChangeStart",function(){return""===$location.path()?$location.path("/"):(progressLoader.start(),void progressLoader.set(50))}),$scope.$on("$routeChangeSuccess",function(){progressLoader.end(),$scope.layoutLoading&&($scope.layoutLoading=!1)})}]),angular.module("theme.core.navigation_controller",["theme.core.services"]).controller("NavigationController",["$scope","$location","$timeout",function($scope,$location,$timeout){"use strict";$scope.menu=[{label:"Overview",iconClasses:"",separator:!0},{label:"Dashboard",iconClasses:"glyphicon glyphicon-home",url:"#/"},{label:"Policy",iconClasses:"glyphicon glyphicon-file",url:"#/search/GOVT_POLICY/IT%20Software,West%20Bengal"},{label:"Filter",iconClasses:"",separator:!0},{label:"Search Users",iconClasses:"fa fa-users",url:"#/search/user_profile/IT%20Software,West%20Bengal"},{label:"Search Offers",iconClasses:"glyphicon glyphicon-search",url:"#/search/Offer/IT%20Software,West%20Bengal"},{label:"Search Request",iconClasses:"glyphicon glyphicon-search",url:"#/search/Request/IT%20Software,West%20Bengal"},{label:"Create",iconClasses:"fa fa-home",separator:!0},{label:"Create Offer",iconClasses:"glyphicon glyphicon-random",url:"#/createoffer"},{label:"Create Request",iconClasses:"glyphicon glyphicon-cog",url:"#/createrequest"},{label:"Resources",iconClasses:"fa fa-home",separator:!0},{label:"Knowledge Base",iconClasses:"glyphicon glyphicon-tasks",html:'<span class="label label-danger">TBD</span>'},{label:"Trainings",iconClasses:"glyphicon glyphicon-share",html:'<span class="label label-danger">TBD</span>'}];var setParent=function(children,parent){angular.forEach(children,function(child){child.parent=parent,void 0!==child.children&&setParent(child.children,child)})};$scope.findItemByUrl=function(children,url){for(var i=0,length=children.length;length>i;i++){if(children[i].url&&children[i].url.replace("#","")===url)return children[i];if(void 0!==children[i].children){var item=$scope.findItemByUrl(children[i].children,url);if(item)return item}}},setParent($scope.menu,null),$scope.openItems=[],$scope.selectedItems=[],$scope.selectedFromNavMenu=!1,$scope.select=function(item){if(item.open)return void(item.open=!1);for(var i=$scope.openItems.length-1;i>=0;i--)$scope.openItems[i].open=!1;$scope.openItems=[];for(var parentRef=item;null!==parentRef;)parentRef.open=!0,$scope.openItems.push(parentRef),parentRef=parentRef.parent;if(!item.children||item.children&&item.children.length<1){$scope.selectedFromNavMenu=!0;for(var j=$scope.selectedItems.length-1;j>=0;j--)$scope.selectedItems[j].selected=!1;for($scope.selectedItems=[],parentRef=item;null!==parentRef;)parentRef.selected=!0,$scope.selectedItems.push(parentRef),parentRef=parentRef.parent}},$scope.highlightedItems=[];var highlight=function(item){for(var parentRef=item;null!==parentRef;)parentRef.selected?parentRef=null:(parentRef.selected=!0,$scope.highlightedItems.push(parentRef),parentRef=parentRef.parent)},highlightItems=function(children,query){angular.forEach(children,function(child){child.label.toLowerCase().indexOf(query)>-1&&highlight(child),void 0!==child.children&&highlightItems(child.children,query)})};$scope.$watch("searchQuery",function(newVal,oldVal){var currentPath="#"+$location.path();if(""===newVal){for(var i=$scope.highlightedItems.length-1;i>=0;i--)$scope.selectedItems.indexOf($scope.highlightedItems[i])<0&&$scope.highlightedItems[i]&&$scope.highlightedItems[i]!==currentPath&&($scope.highlightedItems[i].selected=!1);$scope.highlightedItems=[]}else if(newVal!==oldVal){for(var j=$scope.highlightedItems.length-1;j>=0;j--)$scope.selectedItems.indexOf($scope.highlightedItems[j])<0&&($scope.highlightedItems[j].selected=!1);$scope.highlightedItems=[],highlightItems($scope.menu,newVal.toLowerCase())}}),$scope.$on("$routeChangeSuccess",function(){if($scope.selectedFromNavMenu===!1){var item=$scope.findItemByUrl($scope.menu,$location.path());item&&$timeout(function(){$scope.select(item)})}$scope.selectedFromNavMenu=!1,$scope.searchQuery=""})}]),angular.module("theme.core.goipolicy_controller",[]).controller("GOIPolicyController",["$scope","$timeout","$log","$http","LookUpService","UserAuthentication","$window","$route",function($scope,$timeout,$log,$http,LookUpService,UserAuthentication,$window,$route){"use strict";$scope.id=$route.current.params.id,console.log("Offer COntroller: "+$scope.id),$scope.waiting=!0,$scope.isSaveClicked=!1,$scope.checking=!1,$scope.checked=!1,$scope.user={},$scope.selectedAgeId=0,$scope.selectedEducationId=0,$scope.selectedProfessionId=0,$scope.selectedStateId=0,LookUpService.getStates().then(function(data){$scope.states=data},function(error){$log.log(error)}),$scope.selectedIndustries={selected:[]},$scope.selectedStates={selected:[]},$scope.industries=[],$http.get("utilservices/industries").success(function(response){$scope.industries=response}),void 0!==$scope.id?$timeout(function(){$http({url:"/services/offer/detail/"+$scope.id,method:"GET"}).then(function(response){var data=response.data;if($scope.offerTitle=data.title,$scope.offerDescription=data.description,data.imgUrl){var imagePath=data.imgUrl,widgetFileInput=$(".fileinput").fileinput();widgetFileInput.addClass("fileinput-exists").removeClass("fileinput-new"),imagePath&&(widgetFileInput.find(".thumbnail").append('<img src="'+imagePath+'">'),$scope.userImageId=imagePath.substring(imagePath.lastIndexOf("/")+1,imagePath.length).split(".")[0],$scope.actualImageName=imagePath.substring(imagePath.lastIndexOf("/")+1,imagePath.length),console.log("actualImageName is :",$scope.actualImageName))}for(var i=0;i<data.trgtIndustry.length;i++)for(var j=0;j<$scope.industries.length;j++)if(data.trgtIndustry[i]==$scope.industries[j].industryId){$scope.selectedIndustries.selected.push($scope.industries[j]);break}for(var i=0;i<data.trgtLocation.length;i++)for(var j=0;j<$scope.states.length;j++)if(data.trgtLocation[i]==$scope.states[j].stateId){$scope.selectedStates.selected.push($scope.states[j]);break}for(var i=0;i<$scope.intendedAudience.length;i++)$scope.intendedAudience[i].targAudId===data.intdAudience&&$scope.selectedAudience.selected.push($scope.intendedAudience[i]);$scope.waiting=!1},function(error){console.log("Error in pulling the offer data")})},1e3):$scope.waiting=!1,$scope.formControl={isTitleValid:!0,isIndustryValid:!0,isTargetLocationValid:!0},$scope.$watch("formControl",function(newval,oldval){},!0),$scope.checkValidation=function(prop,value){$scope.formControl.hasOwnProperty(prop)&&(value?$scope.formControl[prop]=!0:$scope.formControl[prop]=!1)},$scope.$watch("offerTitle",function(newval,oldval){$scope.checkValidation("isTitleValid",newval)}),$scope.$watch("selectedIndustries",function(newval,oldval){null!=newval&&newval.selected&&$scope.checkValidation("isIndustryValid",newval.selected[0])},!0),$scope.$watch("selectedStates",function(newval,oldval){null!=newval&&newval.selected&&$scope.checkValidation("isTargetLocationValid",newval.selected[0])},!0),$scope.provideColor=function(value){return $scope.isSaveClicked?value?{border:"1px solid green"}:{border:"1px solid red"}:void 0},$(".fileinput").bind("change.bs.fileinput",function(file){if(file&&void 0!==file.target.value){var fileIndex=file.target.value.lastIndexOf("\\"),fileName=file.target.value.substring(file.target.value.lastIndexOf("\\")+1,file.target.value.length);fileIndex>-1?fileName!=$scope.actualImageName&&(""!==$scope.actualImageName?($scope.actualImageName=fileName,$scope.deleteFile(),$timeout(function(){$scope.createFile()},100)):($scope.actualImageName=fileName,$scope.createFile())):$scope.actualImageName=fileName}console.log("change.bs.fileinput was called")}),$(".fileinput").bind("clear.bs.fileinput",function(event,file){console.log("clear.bs.fileinput was called"),$scope.deleteFile()}),$(".fileinput").bind("reset.bs.fileinput",function(event,file){console.log("reset.bs.fileinput was called")}),$scope.deleteFile=function(){$http({url:"services/delete/"+$scope.userImageId+"/image",method:"GET"}).then(function(data){$scope.ImageId="",$scope.ImageUrl="",$scope.imageUrl=""},function(error){console.log("Error in delete")})},$scope.createFile=function(){var documentInput=angular.element("#documentInput"),file=documentInput[0].files[0],formData=new FormData;formData.append("file",file),$http({url:"/services/upload/",method:"POST",headers:{"Content-Type":void 0},transformRequest:function(data){return data},data:formData,cache:!1}).then(function(response){return $scope.imageUrl=response.data.url,$scope.ImageId=response.data.publicId,$scope.ImageUrl=response.data.url,response.data},function(response){return alert("Error loading file... Please try again."),response.data})},$scope["delete"]=function(){$http({url:"/services/offer/"+$scope.id,method:"DELETE"}).then(function(){$window.location.href="/#/myoffers"},function(error){console.log("Cannot delete request",error)})},$scope.save=function(){var state=[],tags=[];$scope.isSaveClicked=!0;var isFormValid=!0;for(var property in $scope.formControl)$scope.formControl.hasOwnProperty(property)&&0==$scope.formControl[property]&&(isFormValid=!1);if(isFormValid){$scope.waiting=!0;for(var i=0;i<$scope.selectedStates.selected.length;i++)state.push($scope.selectedStates.selected[i].stateId),tags.push($scope.states[i].stateName);for(var industries=[],i=0;i<$scope.selectedIndustries.selected.length;i++)industries.push($scope.selectedIndustries.selected[i].industryId),tags.push($scope.selectedIndustries.selected[i].industryName);void 0!==$scope.id?$http({url:"/services/policy",method:"PUT",isArray:!1,data:{id:$scope.id,policyTitle:$scope.offerTitle,policyDesc:$scope.offerDescription,industrys:industries,states:state,imgUrl:$scope.imageUrl},cache:!1}).then(function(response){$scope.waiting=!1;var tagEntity={entityId:$scope.id,entityType:"GOVT_POLICY",tags:tags};$http({url:"services/tag",method:"POST",data:tagEntity}).then(function(response){$scope.waiting=!1},function(error){console.log("TAG Entity error",error)})},function(response){}):$http({url:"/services/policy",method:"POST",isArray:!1,data:{policyTitle:$scope.offerTitle,policyDesc:$scope.offerDescription,industrys:industries,states:state,imgUrl:$scope.imageUrl},cache:!1}).then(function(response){$scope.waiting=!1,$scope.id=response.data.id;var tagEntity={entityId:response.data.id,entityType:"GOVT_POLICY",tags:tags};$http({url:"services/tag",method:"POST",data:tagEntity}).then(function(response){$scope.waiting=!1},function(error){console.log("TAG Entity error",error)})},function(response){})}}}]),angular.module("theme.core.businessnews_controller",[]).controller("BusinessNewsController",["$scope","$filter",function($scope,$filter){"use strict"}]),angular.module("theme.core.search_controller",[]).controller("SearchController",["$rootScope","$scope","$http","$route","$state","$log","$timeout","$location","EntityService","LookUpService",function($rootScope,$scope,$http,$route,$state,$log,$timeout,$location,EntityService,LookUpService){"use strict";function shiftArray(arr){var elm=arr.shift();elm&&(console.log("Current Count is",count++),EntityService.getEntityData({entityType:elm.entityType,entityId:elm.entityId}).then(function(data){$timeout(function(){var insertedElem=_.findWhere($scope.searchResults,{entityType:elm.entityType,entityId:elm.entityId});insertedElem.data=data,$log.log("Arr data:",elm),console.log("THE SCOPE ARRAY IS:",$scope.searchResults)},10),arr.length>0&&shiftArray(arr)},function(data){$log.log("Error"),arr.length>0&&shiftArray(arr)}))}function sliceArrayAndRemove(arr){for(var temp=[],mainArr=angular.fromJson(angular.toJson(arr)),i=0;20>i;i++)mainArr&&mainArr.length>0&&temp.push(mainArr.shift());return temp}function makeAJAXCall(arr){console.log("In makeAJAXCall",arr.length),shiftArray(arr),shiftArray(arr),shiftArray(arr)}var pageSize=10,count=0;$scope.show=!1,$scope.industries=[],$scope.selectedIndustries={selected:[]},$rootScope.searchType=$scope.searchType=$route.current.params.type||"all",$rootScope.keywords=$scope.keywords=$route.current.params.keywords||"all",$scope.industry=$scope.keywords.split(",")[0],$scope.state=$scope.keywords.split(",")[1],LookUpService.getIndustries().then(function(data){$scope.industries=data;for(var i=0;i<$scope.industries.length;i++)if($scope.industries[i].industryName==$scope.industry){$scope.selectedIndustries.selected=$scope.industries[i];break}},function(error){$log.log(error)}),$scope.selectedStates={selected:[]},LookUpService.getStates().then(function(data){$scope.states=data;for(var i=0;i<$scope.states.length;i++)if($scope.states[i].stateName==$scope.state){$scope.selectedStates.selected=$scope.states[i];break}},function(error){$log.log(error)}),$timeout(function(){twttr.widgets.load(),FB.init({appId:"1628152447465336",status:!0,xfbml:!0,version:"v2.3"})},1e3),$scope.searchResults=[],$scope.returnPagedData=function(data,pagenumber){var masterLength=($scope.searchResults.length,$scope.MasterSerachResult.length);return masterLength>pageSize?$scope.MasterSerachResult.splice(0,pageSize):$scope.MasterSerachResult.splice(0,masterLength)},$scope.searchTags=function(){var keywords="",industry=$scope.selectedIndustries.selected.industryName,state=$scope.selectedStates.selected.stateName;industry&&(keywords=industry+","),state&&(keywords+=state+","),keywords=keywords.substring(0,keywords.lastIndexOf(",")),$location.path("/search/ALL/"+keywords),console.log("Tags selected are:",$scope.selectedTag)},$scope.loadMoreData=function(){for(var searchData=$scope.returnPagedData($scope.searchResults,$scope.searchResults.length),i=0;i<searchData.length;i++)$scope.searchResults.push(searchData[i]);$timeout(function(){makeAJAXCall(searchData)},50)},$scope.searchType=$scope.searchType.toUpperCase(),$scope.isSearchButtonVisible=!1,$http({url:"services/tag/entity?keywords="+$scope.keywords+"&entityType="+$scope.searchType,method:"GET"}).then(function(response){$scope.MasterSerachResult=angular.fromJson(angular.toJson(response.data.sort(function(a,b){return b.createdDate-a.createdDate}))),$scope.searchResults=$scope.returnPagedData($scope.searchResults,0),$scope.isSearchButtonVisible=$scope.searchResults.length<$scope.MasterSerachResult,$timeout(function(){var arrToMakeCalls=sliceArrayAndRemove($scope.searchResults);makeAJAXCall(arrToMakeCalls)},50)},function(error){console.log("Error in delete")}),$scope.showDetails=function(result,$event){$event.preventDefault();var entityType;entityType="USER_PROFILE"===result.entityType?"USER":"OFFER"==result.entityType?"OFFER":"REQUEST"==result.entityType?"REQUEST":"GOVT_POLICY",$location.path("/entitydetail/"+entityType+"/"+result.entityId)}}]).filter("industryfilter",["$filter","LookUpService",function($filter,LookUpService){return function(array,type){var industryNames="";if(array){for(var i=0;i<array.length;i++)industryNames+=LookUpService.getIndustryName(array[i])+",";return industryNames=industryNames.substring(0,industryNames.lastIndexOf(",")),type&&(industryNames=industryNames.length>65?industryNames.substring(0,65)+"...":industryNames),industryNames}}}]).filter("statefilter",["$filter","LookUpService",function($filter,LookUpService){return function(array,type){var stateNames="";if(array){for(var i=0;i<array.length;i++)stateNames+=LookUpService.getStateName(array[i])+",";return stateNames=stateNames.substring(0,stateNames.lastIndexOf(",")),type&&(stateNames=stateNames.length>65?stateNames.substring(0,65)+"...":stateNames),stateNames}}}]).filter("maxlengthfilter",["$filter",function(){return function(value,length){return value?value.length<=length?value:value.substring(0,length)+"...":void 0}}]).filter("educationfilter",["$filter","LookUpService",function($filter,LookUpService){return function(array){var educationNames="",Arr=[];if(array){array.constructor!==Array&&Arr.push(array);for(var i=0;i<Arr.length;i++)educationNames+=LookUpService.getEducationName(Arr[i])+",";return educationNames=educationNames.substring(0,educationNames.lastIndexOf(","))}}}]).filter("ageGroupfilter",["$filter","LookUpService",function($filter,LookUpService){return function(array){var ageGroupNames="",Arr=[];if(array){array.constructor!==Array&&Arr.push(array);for(var i=0;i<Arr.length;i++)ageGroupNames+=LookUpService.getAgeGroupName(Arr[i])+",";return ageGroupNames=ageGroupNames.substring(0,ageGroupNames.lastIndexOf(","))}}}]).filter("professionfilter",["$filter","LookUpService",function($filter,LookUpService){return function(array){var professionNames="",Arr=[];if(array){array.constructor!==Array&&Arr.push(array);for(var i=0;i<Arr.length;i++)professionNames+=LookUpService.getProfessionName(Arr[i])+",";return professionNames=professionNames.substring(0,professionNames.lastIndexOf(","))}}}]).filter("audiencefilter",["$filter",function($filter){return function(value){return value?1==value?"10-100":2==value?"101-1000":"1001-10000":void 0}}]).filter("questionfilter",["$filter",function($filter){return function(value){return value?"N"==value?"No":"Y"==value?"Yes":"Not Sure":void 0}}]).filter("userTypefilter",["$filter",function($filter){return function(value){return value?"E"===value?"Entrepreneur":"P"===value?"Provider":"Entrepreneur & Provider":void 0}}]),angular.module("theme.core.entitydetail_controller",["theme.core.search_controller"]).controller("EntityDetailController",["$scope","$http","$route","$state","$timeout","$log","EntityService","LookUpService",function($scope,$http,$route,$state,$timeout,$log,EntityService,LookUpService){"use strict";$scope.entityType=$route.current.params.type.toUpperCase(),$scope.entityId=$route.current.params.entityId,$scope.entityResult={},$scope.userDetail={},LookUpService.getStates().then(function(data){},function(error){$log.log(error)}),LookUpService.getIndustries().then(function(data){},function(error){$log.log(error)}),LookUpService.getAgeGroup().then(function(data){},function(error){$log.log(error)}),LookUpService.getEducations().then(function(data){},function(error){$log.log(error)}),LookUpService.getProfession().then(function(data){},function(error){$log.log(error)}),EntityService.getEntityDetailData({entityType:$scope.entityType,entityId:$scope.entityId}).then(function(data){if($scope.entityResult=data,$scope.relatedTags=[],console.log("Data in entity detail:",$scope.entityResult),$scope.connectMessage="","GOVT_POLICY"!=$scope.entityType)if("USER"==$scope.entityType)$timeout(function(){for(var i=0;i<$scope.entityResult.summary.industrys.length;i++){var industryName=LookUpService.getIndustryName($scope.entityResult.summary.industrys[i]),t={name:industryName,url:"#/search/ALL/"+industryName};$scope.relatedTags.push(t)}var s={name:$scope.entityResult.summary.stateName,url:"#/search/ALL/,"+$scope.entityResult.summary.stateName};$scope.relatedTags.push(s)},500),$http({url:"/services/offer/",method:"GET"}).then(function(response){$scope.offers=response.data},function(error){}),$http({url:"/services/request/",method:"GET"}).then(function(response){$scope.requests=response.data},function(error){});else{$timeout(function(){for(var i=0;i<$scope.entityResult.trgtIndustry.length;i++){var industryName=LookUpService.getIndustryName($scope.entityResult.trgtIndustry[i]),t={name:industryName,url:"#/search/ALL/"+industryName};$scope.relatedTags.push(t)}for(var i=0;i<$scope.entityResult.trgtLocation.length;i++){var stateName=LookUpService.getStateName($scope.entityResult.trgtLocation[i]),s={name:stateName,url:"#/search/ALL/,"+stateName};$scope.relatedTags.push(s)}},500);var questionType="";$scope.questions=[],questionType="OFFER"==$scope.entityType?"O":"R",LookUpService.getQuestions(questionType).then(function(data){for(var i=0;i<data.length;i++)for(var j=0;j<$scope.entityResult.questionList.length;j++)if(data[i].questId==$scope.entityResult.questionList[j].questionId){var q={questId:data[i].questId,questTxt:data[i].questTxt,response:$scope.entityResult.questionList[j].response};$scope.questions.push(q);break}},function(error){console.log("In questions http"),$log.log(error)}),EntityService.getRelatedUserDetail({userId:$scope.entityResult.userId}).then(function(data){$scope.userDetail=data},function(error){console.log("Error now",error)})}else $timeout(function(){for(var i=0;i<$scope.entityResult.industrys.length;i++){var industryName=LookUpService.getIndustryName($scope.entityResult.industrys[i]),t={name:industryName,url:"#/search/ALL/"+industryName};$scope.relatedTags.push(t)}for(var i=0;i<$scope.entityResult.states.length;i++){var stateName=LookUpService.getIndustryName($scope.entityResult.states[i]),s={name:stateName,url:"#/search/ALL/,"+stateName};$scope.relatedTags.push(s)}},500)},function(error){console.log("Error now")}),$timeout(function(){FB.init({appId:"1628152447465336",status:!0,xfbml:!0,version:"v2.3"})},1e3),$scope.connect=function(connectMessage){$http({url:"/services/communicate",method:"POST",isArray:!1,data:{toId:52,message:connectMessage,entityType:$scope.entityType,entityId:$scope.entityId},cache:!1}).then(function(data){},function(error){})}}]),angular.module("theme.core.contactus_controller",[]).controller("ContactUsController",["$scope","$filter","$http",function($scope,$filter,$http){"use strict";$scope.contactusForm={},$scope.resetValidationForm=function($event){$event.preventDefault(),$scope.contactusForm={}},$scope.contactus=function($event){$event.preventDefault(),$http({url:"services/contactus",method:"POST",data:{name:$scope.contactusForm.contacterName,email:$scope.contactusForm.email,mobileNo:$scope.contactusForm.mobile,subject:$scope.contactusForm.subject,message:$scope.contactusForm.message}}).then(function(response){$scope.message="success",$scope.alert={type:"success",msg:"Email sent succesfully. You would be contacted shortly."},$scope.contactusForm={}},function(error){$scope.alert={type:"alert",msg:"Email was not sent. Try again."}})}}]),angular.module("theme.core.directives",[]),angular.module("theme.core.directives",[]).directive("autosize",function(){"use strict";return{restrict:"AC",link:function(scope,element){element.autosize({append:"\n"})}}}).directive("daterangepicker",function(){"use strict";return{restrict:"A",scope:{options:"=daterangepicker",start:"=dateBegin",end:"=dateEnd"},link:function(scope,element){element.daterangepicker(scope.options,function(start,end){scope.start&&(scope.start=start.format("MMMM D, YYYY")),scope.end&&(scope.end=end.format("MMMM D, YYYY")),scope.$apply()})}}}).directive("multiselect",["$timeout",function($t){"use strict";return{restrict:"A",link:function(scope,element){$t(function(){element.multiSelect()})}}}]).directive("wizard",function(){"use strict";return{restrict:"A",scope:{options:"=wizard"},link:function(scope,element){scope.options?(element.stepy(scope.options),scope.options.validate===!0&&element.validate({errorClass:"help-block",validClass:"help-block",highlight:function(element){angular.element(element).closest(".form-group").addClass("has-error")},unhighlight:function(element){angular.element(element).closest(".form-group").removeClass("has-error")}})):element.stepy(),element.find(".stepy-navigator").wrapInner('<div class="pull-right"></div>')}}}).directive("maskinput",function(){"use strict";return{restrict:"A",link:function(scope,element){element.inputmask()}}}).directive("croppable",["$timeout",function($t){"use strict";return{restrict:"A",replace:!0,scope:{src:"@",imgSelected:"&",cropInit:"&"},link:function(scope,element){var myImg;$t(function(){scope.src&&(myImg=element,element.width(element.width()),angular.element(myImg).Jcrop({trackDocument:!0,onSelect:function(x){$t(function(){scope.imgSelected({coords:x})})}},function(){scope.bounds=this.getBounds()}))}),scope.$watch("bounds",function(){scope.cropInit({bounds:scope.bounds})})}}}]),angular.module("theme.core.directives").directive("disableAnimation",["$animate",function($animate){"use strict";return{restrict:"A",link:function($scope,$element,$attrs){$attrs.$observe("disableAnimation",function(value){$animate.enabled(!value,$element)})}}}]).directive("slideOut",function(){"use strict";return{restrict:"A",scope:{show:"=slideOut"},link:function(scope,element){element.hide(),scope.$watch("show",function(newVal,oldVal){newVal!==oldVal&&element.slideToggle({complete:function(){scope.$apply()}})})}}}).directive("slideOutNav",["$timeout",function($t){"use strict";return{restrict:"A",scope:{show:"=slideOutNav"},link:function(scope,element){scope.$watch("show",function(newVal){return angular.element("body").hasClass("sidebar-collapsed")?void(newVal===!0?element.css("display","block"):element.css("display","none")):void(newVal===!0?element.slideDown({complete:function(){$t(function(){scope.$apply()})},duration:100}):newVal===!1&&element.slideUp({complete:function(){$t(function(){scope.$apply()})},duration:100}))})}}}]).directive("fauxOffcanvas",["EnquireService","$window",function(EnquireService,$window){"use strict";return{restrict:"AE",link:function(){function setWidthtoContent(){var w=angular.element("#wrapper").innerWidth();angular.element(".static-content").css("width",w+"px")}EnquireService.register("screen and (max-width: 767px)",{match:function(){setWidthtoContent(),angular.element(window).on("resize",setWidthtoContent)},unmatch:function(){angular.element(".static-content").css("width",""),angular.element($window).off("resize",setWidthtoContent)}})}}}]).directive("pulsate",function(){"use strict";return{scope:{pulsate:"="},link:function(scope,element){"transparent"===element.css("background-color")&&element.css("background-color","rgba(0,0,0,0.01)"),angular.element(element).pulsate(scope.pulsate)}}}).directive("prettyprint",["$window",function($window){"use strict";return{restrict:"C",link:function(scope,element){element.html($window.prettyPrintOne(element.html(),"",!0))}}}]).directive("animatePageContent",["$rootScope","$timeout",function($rootScope,$timeout){"use strict";return{restrict:"A",link:function(){$rootScope.$on("$routeChangeSuccess",function(){$timeout(function(){angular.element(".container-fluid .animated-content").css("visibility","visible").velocity("transition.slideUpIn",{stagger:150})},10)})}}}]).directive("passwordVerify",function(){"use strict";return{require:"ngModel",scope:{passwordVerify:"="},link:function(scope,element,attrs,ctrl){scope.$watch(function(){var combined;return(scope.passwordVerify||ctrl.$viewValue)&&(combined=scope.passwordVerify+"_"+ctrl.$viewValue),combined},function(value){value&&ctrl.$parsers.unshift(function(viewValue){var origin=scope.passwordVerify;return origin!==viewValue?void ctrl.$setValidity("passwordVerify",!1):(ctrl.$setValidity("passwordVerify",!0),viewValue)})})}}}).directive("backgroundSwitcher",function(){"use strict";return{restrict:"EA",link:function(scope,element){angular.element(element).click(function(){angular.element("body").css("background",angular.element(element).css("background"))})}}}).directive("icheck",["$timeout",function($timeout){"use strict";return{require:"?ngModel",link:function($scope,element,$attrs,ngModel){return $timeout(function(){var parentLabel=element.parent("label");parentLabel.length&&parentLabel.addClass("icheck-label");var value;return value=$attrs.value,$scope.$watch($attrs.ngModel,function(){angular.element(element).iCheck("update")}),angular.element(element).iCheck({checkboxClass:"icheckbox_minimal-blue",radioClass:"iradio_minimal-blue"}).on("ifChanged",function(event){return"checkbox"===angular.element(element).attr("type")&&$attrs.ngModel&&$scope.$apply(function(){return ngModel.$setViewValue(event.target.checked)}),"radio"===angular.element(element).attr("type")&&$attrs.ngModel?$scope.$apply(function(){return ngModel.$setViewValue(value)}):void 0})})}}}]).directive("knob",function(){"use strict";return{restrict:"EA",template:'<input class="dial" type="text"/>',scope:{options:"="},replace:!0,link:function(scope,element){angular.element(element).knob(scope.options)}}}).directive("uiBsSlider",["$timeout",function($timeout){"use strict";return{link:function(scope,element){$timeout(function(){element.slider()})}}}]).directive("tileLarge",function(){"use strict";return{restrict:"E",scope:{item:"=data"},templateUrl:"templates/tile-large.html",replace:!0,transclude:!0}}).directive("tileSimple",function(){
"use strict";return{restrict:"E",scope:{item:"=data"},templateUrl:"templates/tile-simple.html",replace:!0,transclude:!0}}).directive("tileShortcut",function(){"use strict";return{restrict:"E",scope:{item:"=data"},replace:!0,templateUrl:"templates/tile-shortcut.html"}}).directive("tile",function(){"use strict";return{restrict:"E",scope:{heading:"@",type:"@"},transclude:!0,templateUrl:"templates/tile-generic.html",link:function(scope,element){var heading=element.find("tile-heading");heading.length&&heading.appendTo(element.find(".tiles-heading"))},replace:!0}}).directive("datepaginator",function(){"use strict";return{restrict:"A",scope:{options:"=datepaginator"},link:function(scope,element){setTimeout(function(){element.datepaginator(scope.options)},10)}}}).directive("stickyScroll",function(){"use strict";return{restrict:"A",link:function(scope,element,attr){function stickyTop(){var topMax=parseInt(attr.stickyScroll),headerHeight=angular.element("header").height();if(headerHeight>topMax&&(topMax=headerHeight),angular.element("body").hasClass("static-header")===!1)return element.css("top",topMax+"px");var windowTop=angular.element(window).scrollTop();topMax>windowTop?element.css("top",topMax-windowTop+"px"):element.css("top","0px")}angular.element(function(){angular.element(window).scroll(stickyTop),stickyTop()})}}}).directive("rightbarRightPosition",function(){"use strict";return{restrict:"A",scope:{isFixedLayout:"=rightbarRightPosition"},link:function(scope){scope.$watch("isFixedLayout",function(newVal,oldVal){newVal!==oldVal&&setTimeout(function(){var $pc=angular.element("#wrapper"),endingRight=angular.element(window).width()-($pc.offset().left+$pc.outerWidth());0>endingRight&&(endingRight=0),angular.element(".infobar").css("right",endingRight)},100)})}}}).directive("backToTop",function(){"use strict";return{restrict:"AE",link:function(scope,element){element.click(function(){angular.element("body").scrollTop(0)})}}}).directive("toTopOnLoad",["$rootScope",function($rootScope){"use strict";return{restrict:"AE",link:function(){$rootScope.$on("$routeChangeSuccess",function(){angular.element("body").scrollTop(0)})}}}]).directive("scrollToBottom",function(){"use strict";return{restrict:"A",scope:{model:"=scrollToBottom"},link:function(scope,element){scope.$watch("model",function(n,o){n!==o&&(element[0].scrollTop=element[0].scrollHeight)})}}}).directive("input",function(){return{restrict:"E",require:"?ngModel",link:function(scope,elm,attr,ctrl){ctrl&&(elm.bind("focus",function(){elm.addClass("has-focus"),scope.$apply(function(){ctrl.hasFocus=!0})}),elm.bind("blur",function(){elm.removeClass("has-focus"),elm.addClass("has-visited"),scope.$apply(function(){ctrl.hasFocus=!1,ctrl.hasVisited=!0})}),"text"==attr.type&&"/[0-9]/"===attr.ngPattern&&elm.bind("keyup",function(){var text=this.value;console.log(text),this.value=text.replace(/[a-zA-Z]/g,"")}))}}}).directive("positionChatBox",function(){"use strict";return{restrict:"A",scope:{chatter:"=positionChatBox"},link:function(scope,element){function fixWindowOverflow(){if(angular.element(window).height()<parseInt(element.css("top").replace("px",""))+element.height()){var offset=angular.element(window).height()-(parseInt(element.css("top").replace("px",""))+element.height());element.css({top:parseInt(element.css("top").replace("px",""))+offset+"px"})}else parseInt(element.css("top").replace("px",""))<50&&element.css({top:"50px"})}var nanoScrollOld=0;angular.element(".infobar .nano-content").on("scroll",function(){var top=angular.element(".infobar .nano-content").scrollTop(),scrolledAmmount=top-nanoScrollOld;element.css({top:parseInt(element.css("top").replace("px",""))-scrolledAmmount+"px"}),fixWindowOverflow(),nanoScrollOld=top}),angular.element(".infobar").on("click","li[data-stats]",function(event){angular.element(this).siblings().removeClass("active"),angular.element(this).addClass("active"),event.stopPropagation(),element.css({top:0,left:0});var clickOffset=angular.element(event.target).closest("li[data-stats]").offset();element.css({top:clickOffset.top-angular.element(window).scrollTop()+"px",left:clickOffset.left-420+"px"}),fixWindowOverflow()}),angular.element("body").click(function(){angular.element("li[data-stats]").removeClass("active")})}}}),angular.module("theme.core.template_overrides",[]).config(["$provide",function($provide){"use strict";$provide.decorator("tabsetDirective",function($delegate){return $delegate[0].templateUrl=function(element,attr){return attr.tabPosition||attr.tabTheme?!attr.tabPosition||"'bottom'"!==attr.tabPosition&&"bottom"!==attr.tabPosition?"templates/themed-tabs.html":"templates/themed-tabs-bottom.html":attr.panelTabs&&void 0!==attr.heading?"templates/panel-tabs.html":attr.panelTabs&&void 0===attr.heading?"templates/panel-tabs-without-heading.html":"templates/themed-tabs.html"},$delegate[0].$$isolateBindings.heading={attrName:"heading",mode:"@",optional:!0},$delegate[0].$$isolateBindings.panelClass={attrName:"panelClass",mode:"@",optional:!0},$delegate[0].$$isolateBindings.panelIcon={attrName:"panelIcon",mode:"@",optional:!0},$delegate[0].$$isolateBindings.theme={attrName:"tabTheme",mode:"@",optional:!0},$delegate[0].$$isolateBindings.position={attrName:"tabPosition",mode:"@",optional:!0},$delegate[0].$$isolateBindings.draggable={attrName:"ngDrag",mode:"=",optional:!0},$delegate}),$provide.decorator("progressbarDirective",function($delegate){return $delegate[0].templateUrl=function(element,attr){return attr.contextual&&"true"===attr.contextual?"templates/contextual-progressbar.html":"template/progressbar/progressbar.html"},$delegate[0].$$isolateBindings.heading={attrName:"heading",mode:"@"},$delegate})}]).run(["$templateCache",function($templateCache){$templateCache.put("footerTemplate.html",'<div ng-show="showFooter" class="ng-grid-footer" ng-style="footerStyle()">\r\n    <div class="col-md-4" >\r\n        <div class="ngFooterTotalItems" ng-class="{\'ngNoMultiSelect\': !multiSelect}" >\r\n            <span class="ngLabel">{{i18n.ngTotalItemsLabel}} {{maxRows()}}</span><span ng-show="filterText.length > 0" class="ngLabel">({{i18n.ngShowingItemsLabel}} {{totalFilteredItemsLength()}})</span>\r\n        </div>\r\n        <div class="ngFooterSelectedItems" ng-show="multiSelect">\r\n            <span class="ngLabel">{{i18n.ngSelectedItemsLabel}} {{selectedItems.length}}</span>\r\n        </div>\r\n    </div>\r\n    <div class="col-md-4" ng-show="enablePaging" ng-class="{\'ngNoMultiSelect\': !multiSelect}">\r\n            <label class="control-label ng-grid-pages center-block">{{i18n.ngPageSizeLabel}}\r\n               <select class="form-control input-sm" ng-model="pagingOptions.pageSize" >\r\n                      <option ng-repeat="size in pagingOptions.pageSizes">{{size}}</option>\r\n                </select>\r\n        </label>\r\n</div>\r\n     <div class="col-md-4">\r\n        <div class="pull-right ng-grid-pagination">\r\n            <button type="button" class="btn btn-default btn-sm" ng-click="pageToFirst()" ng-disabled="cantPageBackward()" title="{{i18n.ngPagerFirstTitle}}"><i class="fa fa-angle-double-left"></i></button>\r\n            <button type="button" class="btn btn-default btn-sm" ng-click="pageBackward()" ng-disabled="cantPageBackward()" title="{{i18n.ngPagerPrevTitle}}"><i class="fa fa-angle-left"></i></button>\r\n            <label class="control-label">\r\n                   <input class="form-control input-sm" min="1" max="{{currentMaxPages}}" type="number" style="width:50px; height: 24px; margin-top: 1px; padding: 0 4px;" ng-model="pagingOptions.currentPage"/>\r\n            </label>\r\n            <span class="ngGridMaxPagesNumber" ng-show="maxPages() > 0">/ {{maxPages()}}</span>\r\n            <button type="button" class="btn btn-default btn-sm" ng-click="pageForward()" ng-disabled="cantPageForward()" title="{{i18n.ngPagerNextTitle}}"><i class="fa fa-angle-right"></i></button>\r\n            <button type="button" class="btn btn-default btn-sm" ng-click="pageToLast()" ng-disabled="cantPageToLast()" title="{{i18n.ngPagerLastTitle}}"><i class="fa fa-angle-double-right"></i></button>\r\n        </div>\r\n     </div>\r\n</div>\r\n'),$templateCache.put("template/rating/rating.html",'<span ng-mouseleave="reset()" ng-keydown="onKeydown($event)" tabindex="0" role="slider" aria-valuemin="0" aria-valuemax="{{range.length}}" aria-valuenow="{{value}}">\n    <i ng-repeat="r in range track by $index" ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="fa" ng-class="$index < value && (r.stateOn || \'fa-star\') || (r.stateOff || \'fa-star-o\')">\n        <span class="sr-only">({{ $index < value ? \'*\' : \' \' }})</span>\n    </i>\n</span>'),$templateCache.put("bootstrap/match.tpl.html",'<div class="ui-select-match" ng-hide="$select.open" ng-disabled="$select.disabled" ng-class="{\'btn-default-focus\':$select.focus}"><button type="button" class="form-control ui-select-toggle" tabindex="-1" ;="" ng-disabled="$select.disabled" ng-click="$select.activate()"><span ng-show="$select.isEmpty()" class="ui-select-placeholder text-muted">{{$select.placeholder}}</span> <span ng-hide="$select.isEmpty()" class="ui-select-match-text" ng-class="{\'ui-select-allow-clear\': $select.allowClear && !$select.isEmpty()}" ng-transclude=""></span> <i class="caret caret-right" ng-click="$select.toggle($event)"></i></button> <button type="button" class="ui-select-clear" ng-if="$select.allowClear && !$select.isEmpty()" ng-click="$select.select(undefined)"><i class="glyphicon glyphicon-remove"></i></button></div>')}]),angular.module("theme.core.templates",[]).run(["$templateCache",function($templateCache){"use strict";$templateCache.put("templates/contextual-progressbar.html",'<div class="contextual-progress">\n	<div class="clearfix">\n		<div class="progress-title">{{heading}}</div>\n		<div class="progress-percentage">{{percent | number:0}}%</div>\n	</div>\n	<div class="progress">\n		<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: percent + \'%\'}" aria-valuetext="{{percent | number:0}}%" ng-transclude></div>\n	</div>\n</div>\n'),$templateCache.put("templates/custom-styles.html","<style>\n	.dropdown.open .dropdown-menu.animated {\n		-webkit-animation-name: {{getLayoutOption('dropdownTransitionStyle')}};\n		animation-name: {{getLayoutOption('dropdownTransitionStyle')}};\n		-webkit-animation-duration: .5s;\n		animation-duration: .5s;\n	}\n	.dropdown-menu.animated {\n		-webkit-animation-name: none;\n		animation-name: none;\n	}\n\n	.mainview-animation.animated.ng-enter {\n		-webkit-animation-name: {{getLayoutOption('pageTransitionStyle')}};\n		animation-name: {{getLayoutOption('pageTransitionStyle')}};\n	}\n</style>"),$templateCache.put("templates/nav_renderer.html",'<div ng-if="item.separator==true">\n	<span>{{item.label}}</span>\n</div>\n<a ng-if="!item.separator" ng-click="select(item)" ng-href="{{item.url}}">\n	<i ng-if="item.iconClasses" class="{{item.iconClasses}}"></i><span>{{item.label}}</span>\n	<span ng-bind-html="item.html"></span>\n</a>\n<ul ng-if="item.children.length" data-slide-out-nav="item.open || (searchQuery.length>0 && item.selected)">\n    <li ng-repeat="item in item.children"\n	    ng-class="{ hasChild: (item.children!==undefined),\n                      active: item.selected,\n                        open: (item.children!==undefined) && item.open,\n              \'search-focus\': (searchQuery.length>0 && item.selected) }"\n 		ng-show="!(searchQuery.length>0 && !item.selected)"\n    	ng-include="\'templates/nav_renderer.html\'"\n    ></li>\n</ul>'),$templateCache.put("templates/nav_renderer_horizontal.html",'<a ng-click="select(item)" ng-href="{{item.url}}">\n  <i ng-if="item.iconClasses" class="{{item.iconClasses}}"></i><span>{{item.label}}</span>\n  <span ng-bind-html="item.html"></span>\n</a>\n<ul ng-if="item.children.length">\n    <li ng-repeat="item in item.children"\n      ng-class="{ hasChild: (item.children!==undefined),\n                      active: item.selected,\n                        open: (item.children!==undefined) && item.open }"\n      ng-include="\'templates/nav_renderer_horizontal.html\'"\n    ></li>\n</ul>\n'),$templateCache.put("templates/panel-tabs-without-heading.html",'<div class="panel {{panelClass}}">\n  <div class="panel-heading" ng-attr-ng-drag-handle="{{draggable}}">\n        <h2>\n            <ul class="nav nav-{{type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n        </h2>\n  </div>\n  <div class="panel-body">\n    <div class="tab-content">\n        <div class="tab-pane"\n            ng-repeat="tab in tabs"\n            ng-class="{active: tab.active}"\n            tab-content-transclude="tab">\n        </div>\n    </div>\n  </div>\n</div>\n'),$templateCache.put("templates/panel-tabs.html",'<div class="panel {{panelClass}}">\n  <div class="panel-heading" ng-attr-ng-drag-handle="{{draggable}}">\n        <h2><i ng-if="panelIcon" class="{{panelIcon}}"></i>{{(panelIcon? " ":"")+heading}}</h2>\n        <div class="panel-ctrls">\n            <ul class="nav nav-{{type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n        </div>\n  </div>\n  <div class="panel-body">\n    <div class="tab-content">\n        <div class="tab-pane"\n            ng-repeat="tab in tabs"\n            ng-class="{active: tab.active}"\n            tab-content-transclude="tab">\n        </div>\n    </div>\n  </div>\n</div>\n'),$templateCache.put("templates/panel.html",'<div class="panel {{panelClass}}">\n  <div class="panel-heading">\n        <h2><i ng-if="panelIcon" class="{{panelIcon}}"></i>{{(panelIcon? " ":"")+heading}}</h2>\n        <div class="panel-ctrls">\n        </div>\n  </div>\n  <div class="panel-body" ng-transclude>\n  </div>\n</div>\n'),$templateCache.put("templates/themed-tabs-bottom.html",'<div class="tab-container tab-{{theme || \'primary\'}} tab-{{position || \'normal\'}}">\n  <div class="tab-content">\n    <div class="tab-pane"\n        ng-repeat="tab in tabs"\n        ng-class="{active: tab.active}"\n        tab-content-transclude="tab">\n    </div>\n  </div>\n  <ul class="nav nav-{{type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n</div>\n'),$templateCache.put("templates/themed-tabs.html",'<div class="tab-container tab-{{theme || \'primary\'}} tab-{{position || \'normal\'}}">\n  <ul class="nav nav-{{type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n  <div class="tab-content">\n    <div class="tab-pane"\n        ng-repeat="tab in tabs"\n        ng-class="{active: tab.active}"\n        tab-content-transclude="tab">\n    </div>\n  </div>\n</div>\n'),$templateCache.put("templates/tile-generic.html",'<div class="info-tiles tiles-{{type}}">\n	<div class="tiles-heading">\n		{{heading}}\n	</div>\n	<div class="tiles-body" ng-transclude>\n	</div>\n</div>\n'),$templateCache.put("templates/tile-large.html",'<a class="info-tiles tiles-{{item.color}}" ng-href="{{item.href}}">\n    <div class="tiles-heading">\n        <div class="pull-left">{{item.title}}</div>\n        <div class="pull-right">{{item.titleBarInfo}}</div>\n    </div>\n    <div class="tiles-body">\n        <div class="pull-left"><i class="{{item.classes}}"></i></div>\n        <div class="pull-right" ng-show="item.text">{{item.text}}</div>\n        <div class="pull-right" ng-show="!item.text" ng-transclude></div>\n    </div>\n</a>\n'),$templateCache.put("templates/tile-shortcut.html",'<a class="shortcut-tiles tiles-{{item.color}}" ng-href="{{item.href}}">\n	<div class="tiles-body">\n		<div class="pull-left"><i class="{{item.classes}}"></i></div>\n		<div class="pull-right"><span class="badge">{{item.titleBarInfo}}</span></div>\n	</div>\n	<div class="tiles-footer">\n		{{item.text}}\n	</div>\n</a>\n'),$templateCache.put("templates/tile-simple.html",'<a class="info-tiles tiles-{{item.color}}" ng-href="{{item.href}}">\n    <div class="tiles-heading">\n        <div class="text-center">{{item.title}}</div>\n    </div>\n    <div class="tiles-body">\n        <div class="text-center" ng-show="item.text">{{item.text}}</div>\n    </div>\n</a>')}]),angular.module("ngDraggable",[]).directive("ngDrag",["$rootScope","$parse","$document","$window",function($rootScope,$parse,$document,$window){return{restrict:"A",scope:!0,link:function(scope,element,attrs){scope.value=attrs.ngDrag;var offset,_mx,_my,_tx,_ty,_mrx,_mry,_centerAnchor=!1,_hasTouch="ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch,_pressEvents="touchstart mousedown",_moveEvents="touchmove mousemove",_releaseEvents="touchend mouseup",_myid=scope.$id,_data=null,_dragEnabled=!1,_pressTimer=null,onDragSuccessCallback=$parse(attrs.ngDragSuccess)||null,initialize=function(){element.attr("draggable","false"),toggleListeners(!0)},_privoffset=function(docElem){var box={top:0,left:0};return void 0!==typeof docElem[0].getBoundingClientRect&&(box=docElem[0].getBoundingClientRect()),{top:box.top+$window.pageYOffset-docElem[0].clientTop,left:box.left+$window.pageXOffset-docElem[0].clientLeft}},toggleListeners=function(enable){enable&&(scope.$on("$destroy",onDestroy),scope.$watch(attrs.ngDrag,onEnableChange),scope.$watch(attrs.ngCenterAnchor,onCenterAnchor),scope.$watch(attrs.ngDragData,onDragDataChange),element.on(_pressEvents,onpress),_hasTouch||"img"!=element[0].nodeName.toLowerCase()||element.on("mousedown",function(){return!1}))},onDestroy=function(enable){toggleListeners(!1)},onDragDataChange=function(newVal,oldVal){_data=newVal},onEnableChange=function(newVal,oldVal){_dragEnabled=newVal},onCenterAnchor=function(newVal,oldVal){angular.isDefined(newVal)&&(_centerAnchor=newVal||"true")},isDragHandle=function(evt){var attr=angular.element(evt.target).attr("ng-drag-handle");return"undefined"!=typeof attr&&attr!==!1},onpress=function(evt){_dragEnabled&&isDragHandle(evt)&&("mousedown"!=evt.type||0===evt.button)&&(element.css("width",element.width()+"px"),_hasTouch?(cancelPress(),_pressTimer=setTimeout(function(){cancelPress(),onlongpress(evt)},100),$document.on(_moveEvents,cancelPress),$document.on(_releaseEvents,cancelPress)):onlongpress(evt))},cancelPress=function(){clearTimeout(_pressTimer),$document.off(_moveEvents,cancelPress),$document.off(_releaseEvents,cancelPress)},onlongpress=function(evt){_dragEnabled&&(evt.preventDefault(),element.addClass("dragging"),offset=_privoffset(element),element.centerX=element[0].offsetWidth/2,element.centerY=element[0].offsetHeight/2,_mx=evt.pageX||evt.touches[0].pageX,_my=evt.pageY||evt.touches[0].pageY,_mrx=_mx-offset.left,_mry=_my-offset.top,_centerAnchor?(_tx=_mx-element.centerX-$window.pageXOffset,_ty=_my-element.centerY-$window.pageYOffset):(_tx=_mx-_mrx-$window.pageXOffset,_ty=_my-_mry-$window.pageYOffset),$document.on(_moveEvents,onmove),$document.on(_releaseEvents,onrelease),$rootScope.$broadcast("draggable:start",{x:_mx,y:_my,tx:_tx,ty:_ty,event:evt,element:element,data:_data}))},onmove=function(evt){_dragEnabled&&(evt.preventDefault(),_mx=evt.pageX||evt.touches[0].pageX,_my=evt.pageY||evt.touches[0].pageY,_centerAnchor?(_tx=_mx-element.centerX-$window.pageXOffset,_ty=_my-element.centerY-$window.pageYOffset):(_tx=_mx-_mrx-$window.pageXOffset,_ty=_my-_mry-$window.pageYOffset),moveElement(_tx,_ty),$rootScope.$broadcast("draggable:move",{x:_mx,y:_my,tx:_tx,ty:_ty,event:evt,element:element,data:_data,uid:_myid}))},onrelease=function(evt){_dragEnabled&&(evt.preventDefault(),$rootScope.$broadcast("draggable:end",{x:_mx,y:_my,tx:_tx,ty:_ty,event:evt,element:element,data:_data,callback:onDragComplete,uid:_myid}),element.removeClass("dragging"),reset(),$document.off(_moveEvents,onmove),$document.off(_releaseEvents,onrelease))},onDragComplete=function(evt){onDragSuccessCallback&&scope.$apply(function(){onDragSuccessCallback(scope,{$data:_data,$event:evt})})},reset=function(){element.css({left:"",top:"",position:"","z-index":"",margin:""})},moveElement=function(x,y){element.css({left:x+"px",top:y+"px",position:"fixed","z-index":99999})};initialize()}}}]).directive("ngDrop",["$parse","$timeout","$window",function($parse,$timeout,$window){return{restrict:"A",link:function(scope,element,attrs){scope.value=attrs.ngDrop;var _myid=scope.$id,_dropEnabled=!1,onDropCallback=$parse(attrs.ngDropSuccess)==angular.noop?function(scope,obj){element.find(".drag-placeholder").after(obj.$event.element),obj.$event.element.show()}:$parse(attrs.ngDropSuccess),initialize=function(){toggleListeners(!0)},toggleListeners=function(enable){enable&&(attrs.$observe("ngDrop",onEnableChange),scope.$on("$destroy",onDestroy),scope.$on("draggable:start",onDragStart),scope.$on("draggable:move",onDragMove),scope.$on("draggable:end",onDragEnd))},_privoffset=function(docElem){var box={top:0,left:0};return void 0!==typeof docElem[0].getBoundingClientRect&&(box=docElem[0].getBoundingClientRect()),{top:box.top+$window.pageYOffset-docElem[0].clientTop,left:box.left+$window.pageXOffset-docElem[0].clientLeft}},onDestroy=function(enable){toggleListeners(!1)},onEnableChange=function(newVal,oldVal){_dropEnabled=scope.$eval(newVal)},onDragStart=function(evt,obj){if(_dropEnabled&&($(".drag-placeholder").show(),isTouching(obj.x,obj.y,obj.element)&&(obj.element.css({position:"fixed",top:obj.ty+"px",left:obj.tx+"px"}),element.find(".drag-placeholder").length<1))){var dragPlaceholder=$('<div class="drag-placeholder"></div>').css({height:obj.element.innerHeight()+"px",width:"100%"});$(obj.element).after(dragPlaceholder)}},onDragMove=function(evt,obj){if(_dropEnabled)if(isTouching(obj.x,obj.y,obj.element)){if(element.find(".drag-placeholder").length<1){var dragPlaceholder=$('<div class="drag-placeholder"></div>').css({height:obj.element.innerHeight()+"px",width:"100%"});$(element).append(dragPlaceholder)}element.find("[ng-drag]:not(.dragging)").each(function(){hitTestElement(obj.x,obj.y,$(this))&&($(this).offset().top+$(this).height()/2<obj.y?$(this).after(element.find(".drag-placeholder")):$(this).before(element.find(".drag-placeholder")))})}else element.find(".drag-placeholder").length>0&&element.find(".drag-placeholder").remove()},onDragEnd=function(evt,obj){_dropEnabled&&_myid!==obj.uid&&($(".drag-placeholder").hide(),obj.element.css("width",""),isTouching(obj.x,obj.y,obj.element)&&(obj.element.hide(),obj.callback&&obj.callback(obj),$timeout(function(){onDropCallback(scope,{$data:obj.data,$event:obj}),$(".drag-placeholder").remove()})),updateDragStyles(!1,obj.element))},isTouching=function(mouseX,mouseY,dragElement){var touching=hitTest(mouseX,mouseY);return updateDragStyles(touching,dragElement),touching},updateDragStyles=function(touching,dragElement){touching?(element.addClass("drag-enter"),dragElement.addClass("drag-over")):(element.removeClass("drag-enter"),dragElement.removeClass("drag-over"))},hitTest=function(x,y){var bounds=_privoffset(element);return bounds.right=bounds.left+element[0].offsetWidth,bounds.bottom=bounds.top+element[0].offsetHeight,x>=bounds.left&&x<=bounds.right&&y<=bounds.bottom&&y>=bounds.top},hitTestElement=function(x,y,element){var bounds=_privoffset(element);return bounds.right=bounds.left+element[0].offsetWidth,bounds.bottom=bounds.top+element[0].offsetHeight,x>=bounds.left&&x<=bounds.right&&y<=bounds.bottom&&y>=bounds.top};initialize()}}}]).directive("ngDragClone",["$parse","$timeout",function($parse,$timeout){return{restrict:"A",link:function(scope,element,attrs){var img,_allowClone=!0;scope.clonedData={};var initialize=function(){img=element.find("img"),element.attr("draggable","false"),img.attr("draggable","false"),reset(),toggleListeners(!0)},toggleListeners=function(enable){enable&&(scope.$on("draggable:start",onDragStart),scope.$on("draggable:move",onDragMove),scope.$on("draggable:end",onDragEnd),preventContextMenu())},preventContextMenu=function(){img.off("mousedown touchstart touchmove touchend touchcancel",absorbEvent_),img.on("mousedown touchstart touchmove touchend touchcancel",absorbEvent_)},onDragStart=function(evt,obj,elm){_allowClone=!0,angular.isDefined(obj.data.allowClone)&&(_allowClone=obj.data.allowClone),_allowClone&&(scope.$apply(function(){scope.clonedData=obj.data}),element.css("width",obj.element[0].offsetWidth),element.css("height",obj.element[0].offsetHeight),moveElement(obj.tx,obj.ty))},onDragMove=function(evt,obj){_allowClone&&moveElement(obj.tx,obj.ty)},onDragEnd=function(evt,obj){_allowClone&&reset()},reset=function(){element.css({left:0,top:0,position:"fixed","z-index":-1,visibility:"hidden"})},moveElement=function(x,y){element.css({left:x+"px",top:y+"px",position:"fixed","z-index":99999,visibility:"visible"})},absorbEvent_=function(event){var e=event.originalEvent;return e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0,e.returnValue=!1,!1};initialize()}}}]).directive("ngPreventDrag",["$parse","$timeout",function($parse,$timeout){return{restrict:"A",link:function(scope,element,attrs){var initialize=function(){element.attr("draggable","false"),toggleListeners(!0)},toggleListeners=function(enable){enable&&element.on("mousedown touchstart touchmove touchend touchcancel",absorbEvent_)},absorbEvent_=function(event){var e=event.originalEvent;return e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0,e.returnValue=!1,!1};initialize()}}}]).directive("ngCancelDrag",[function(){return{restrict:"A",link:function(scope,element,attrs){element.find("*").attr("ng-cancel-drag","ng-cancel-drag")}}}]),angular.module("theme.core.panels",["ngDraggable"]).config(function(){}),angular.module("theme.core.panels").directive("panel",function(){"use strict";return{restrict:"E",transclude:!0,scope:{panelClass:"@",heading:"@",panelIcon:"@",ngDrag:"@"},templateUrl:"templates/panel.html",link:function(scope,element,attrs){"true"===attrs.ngDrag&&element.find(".panel-heading").attr("ng-drag-handle","")}}}).directive("panelControls",[function(){"use strict";return{restrict:"E",require:"?^tabset",replace:!0,link:function(scope,element){var panel=angular.element(element).closest(".panel");panel.hasClass(".ng-isolate-scope")===!1&&angular.element(element).children().appendTo(panel.find(".panel-ctrls"))}}}]).directive("panelControlCollapse",function(){"use strict";return{restrict:"EAC",link:function(scope,element){return element.html('<button class="button-icon"><i class="glyphicon glyphicon-minus"></i></button>'),element.bind("click",function(){angular.element(element).find("i").toggleClass("glyphicon-plus glyphicon-minus"),angular.element(element).closest(".panel").find(".panel-body").slideToggle({duration:200}),angular.element(element).closest(".panel-heading").toggleClass("rounded-bottom")}),!1}}}).directive("panelControlRefresh",function(){"use strict";return{restrict:"EAC",scope:{isLoading:"=",type:"@"},link:function(scope,element){var type=scope.type?scope.type:"circular";element.append('<button class="button-icon"><i class="glyphicon glyphicon-refresh"></i></button>'),element.find("button").bind("click",function(){element.closest(".panel").append('<div class="panel-loading"><div class="panel-loader-'+type+'"></div></div>')}),scope.$watch("isLoading",function(n){n===!1&&element.closest(".panel").find(".panel-loading").remove()})}}}).directive("panelControlColors",["$compile",function($compile){"use strict";return{restrict:"EAC",replace:!0,link:function(scope,element){var controls='<span class="button-icon" dropdown="" dropdown-toggle=""><i class="glyphicon glyphicon-tint"></i><ul class="dropdown-menu dropdown-tint" role="menu"><li><span class="btn btn-default" data-class="panel-default"></span></li><li><span class="btn btn-midnightblue" data-class="panel-midnightblue"></span></li><li><span class="btn btn-danger" data-class="panel-danger"></span></li><li><span class="btn btn-success" data-class="panel-success"></span></li><li><span class="btn btn-primary" data-class="panel-primary"></span></li><li><span class="btn btn-inverse" data-class="panel-inverse"></span></li><li><span class="btn btn-indigo" data-class="panel-indigo"></span></li></ul></span>';return element.append($compile(controls)(scope)),element.find("li span").bind("click",function(){element.closest(".panel").removeClass(function(index,css){return(css.match(/(^|\s)panel-\S+/g)||[]).join(" ")}),element.closest(".panel").removeClass("panel-*").addClass(angular.element(this).attr("data-class"))}),!1}}}]).directive("panelControlTitle",["$compile","$timeout",function($compile,$t){"use strict";return{restrict:"EAC",scope:!0,link:function(scope,element){var controls='<span class="button-icon" dropdown="" dropdown-toggle="" is-open="showInputBox"><i class="glyphicon glyphicon-edit"></i><ul class="dropdown-menu dropdown-edit" role="menu" ng-keyup="processKeyUp($event)"><li><input class="form-control" type="text" ng-model="title" id="lolput" ng-click="$event.preventDefault();$event.stopPropagation()" /></li></ul></span>';return element.append($compile(controls)(scope)),scope.processKeyUp=function(event){32===event.keyCode?event.preventDefault():13===event.keyCode&&(scope.showInputBox=!1)},scope.$watch("showInputBox",function(n){n&&$t(function(){element.find("input").val(element.closest(".panel").find(".panel-heading h2").text()).focus()},10)}),scope.$watch("title",function(n){element.closest(".panel").find(".panel-heading h2").html(n)}),!1}}}]),angular.module("theme.core.services",[]).factory("progressLoader",function(){"use strict";return{start:function(){angular.element.skylo("start")},set:function(position){angular.element.skylo("set",position)},end:function(){angular.element.skylo("end")},get:function(){return angular.element.skylo("get")},inch:function(amount){angular.element.skylo("show",function(){angular.element(document).skylo("inch",amount)})}}}).factory("EnquireService",["$window",function($window){"use strict";return $window.enquire}]).factory("pinesNotifications",["$window",function($window){"use strict";return{notify:function(args){args.mouse_reset=!1;var notification=new $window.PNotify(args);return notification.notify=notification.update,notification}}}]).factory("$bootbox",["$modal","$window",function($modal,$window){"use strict";return void 0===angular.element.fn.modal&&(angular.element.fn.modal=function(directive){var that=this;if("hide"===directive)return void(this.data("bs.modal")&&(this.data("bs.modal").close(),angular.element(that).remove()));if("show"!==directive){var modalInstance=$modal.open({template:angular.element(this).find(".modal-content").html()});this.data("bs.modal",modalInstance),setTimeout(function(){angular.element(".modal.ng-isolate-scope").remove(),angular.element(that).css({opacity:1,display:"block"}).addClass("in")},100)}}),$window.bootbox}]).service("lazyLoad",["$q","$timeout",function($q,$t){"use strict";var deferred=$q.defer(),promise=deferred.promise;this.load=function(files){return angular.forEach(files,function(file){file.indexOf(".js")>-1&&!function(d,script){var fDeferred=$q.defer();script=d.createElement("script"),script.type="text/javascript",script.async=!0,script.onload=function(){$t(function(){fDeferred.resolve()})},script.onerror=function(){$t(function(){fDeferred.reject()})},promise=promise.then(function(){return script.src=file,d.getElementsByTagName("head")[0].appendChild(script),fDeferred.promise})}(document)}),deferred.resolve(),promise}}]).filter("safe_html",["$sce",function($sce){"use strict";return function(val){return $sce.trustAsHtml(val)}}]),angular.module("theme.core.services").service("$theme",["$rootScope","EnquireService","$document",function($rootScope,EnquireService,$document){"use strict";this.settings={fixedHeader:!0,headerBarHidden:!0,leftbarCollapsed:!1,leftbarShown:!1,rightbarCollapsed:!1,fullscreen:!1,layoutHorizontal:!1,layoutHorizontalLargeIcons:!1,layoutBoxed:!1,showSmallSearchBar:!1,
topNavThemeClass:"navbar-midnightblue",sidebarThemeClass:"sidebar-midnightblue",showChatBox:!1,pageTransitionStyle:"fadeIn",dropdownTransitionStyle:"fadeIn"};var brandColors={"default":"#ecf0f1",inverse:"#95a5a6",primary:"#3498db",success:"#2ecc71",warning:"#f1c40f",danger:"#e74c3c",info:"#1abcaf",brown:"#c0392b",indigo:"#9b59b6",orange:"#e67e22",midnightblue:"#34495e",sky:"#82c4e6",magenta:"#e73c68",purple:"#e044ab",green:"#16a085",grape:"#7a869c",toyo:"#556b8d",alizarin:"#e74c3c"};this.getBrandColor=function(name){return brandColors[name]?brandColors[name]:brandColors["default"]},$document.ready(function(){EnquireService.register("screen and (max-width: 767px)",{match:function(){$rootScope.$broadcast("themeEvent:maxWidth767",!0)},unmatch:function(){$rootScope.$broadcast("themeEvent:maxWidth767",!1)}})}),this.get=function(key){return this.settings[key]},this.set=function(key,value){this.settings[key]=value,$rootScope.$broadcast("themeEvent:changed",{key:key,value:this.settings[key]}),$rootScope.$broadcast("themeEvent:changed:"+key,this.settings[key])},this.values=function(){return this.settings}}]),angular.module("theme.core.services").factory("UserAuthentication",["$http","$q","$window",function($http,$q,$window){"use strict";var userInfo,userRoutes=[],_signInUser=function(options){var deferred=$q.defer();return $http({url:"services/login",method:"POST",data:options}).then(function(response){userInfo={secureToken:response.data.secureToken,clientId:response.data.clientId},$window.localStorage.bk_userInfo=JSON.stringify(userInfo),userInfo.profileCreated=response.data.profileCreated,deferred.resolve(userInfo)},function(error){deferred.reject(error)}),deferred.promise},_registerUser=function(options){var deferred=$q.defer();return $http({url:"/services/user",method:"POST",data:options}).then(function(response){userInfo={secureToken:response.data.secureToken,clientId:response.data.clientId},$window.localStorage.bk_userInfo=JSON.stringify(userInfo),deferred.resolve(userInfo)},function(error){deferred.reject(error)}),deferred.promise},_getToken=function(){return $window&&$window.localStorage&&$window.localStorage.bk_userInfo?JSON.parse($window.localStorage.bk_userInfo):void 0},_getUserDetails=function(){var deferred=$q.defer();return $http({url:"services/user",method:"GET"}).then(function(response){deferred.resolve(response)},function(error){deferred.reject(error)}),deferred.promise},_logOut=function(){return $http({url:"/services/logout",method:"POST"}).then(function(response){$window&&$window.localStorage&&$window.localStorage.bk_userInfo&&$window.localStorage.removeItem("bk_userInfo")},function(error){})},_getuserRoutes=function(){return userRoutes&&0===userRoutes.length?userRoutes:userRoutes},_setuserRoutes=function(paths){userRoutes=paths},_getUserDetailProfile=function(){var deferred=$q.defer();return $http({url:"services/userProfile",method:"GET"}).then(function(response){deferred.resolve(response)},function(error){if(400===error.status&&"ENTITY_NOT_FOUND"===error.data.type){var details={ageGroupId:0,educatonId:0,experienceId:0,faceBookUrl:"",imageUrl:"",linkedInUrl:"",professionalId:0,stateId:0,twiterURL:""},summary={aboutMe:"",cityName:"",companyUrl:"",firstName:"",imageUrl:"",industrys:[],lastName:"",lookinfForSkill:[],offeredServices:[],userSkills:[],userType:""};error.data.details=details,error.data.summary=summary,error.data.newUser=!0,deferred.resolve(error)}else deferred.reject(error)}),deferred.promise},_saveUserDetailProfile=function(data){var deferred=$q.defer();return $http({url:"services/userProfile",method:"POST",data:data}).then(function(response){deferred.resolve(response)},function(error){deferred.reject(error)}),deferred.promise};return{signInUser:_signInUser,getToken:_getToken,getUserDetails:_getUserDetails,logOut:_logOut,getuserRoutes:_getuserRoutes,setuserRoutes:_setuserRoutes,getUserDetailProfile:_getUserDetailProfile,saveUserDetailProfile:_saveUserDetailProfile,registerUser:_registerUser}}]),angular.module("theme.core.services").factory("LookUpService",["$http","$q",function($http,$q){"use strict";var ageGroup=[],educationGroup=[],professions=[],questions=[],states=[],intAudience=[],industries=[],_getAgeGroup=function(){var deferred=$q.defer();return ageGroup&&ageGroup.length>0?deferred.resolve(ageGroup):$http({url:"utilservices/ages",method:"GET"}).then(function(response){ageGroup=response.data,deferred.resolve(ageGroup)},function(error){deferred.reject(error)}),deferred.promise},_getEducations=function(){var deferred=$q.defer();return educationGroup&&educationGroup.length>0?deferred.resolve(educationGroup):$http({url:"utilservices/education",method:"GET"}).then(function(response){educationGroup=response.data,deferred.resolve(educationGroup)},function(error){deferred.reject(error)}),deferred.promise},_getProfession=function(){var deferred=$q.defer();return professions&&professions.length>0?deferred.resolve(professions):(professions=[{profession_id:"1",profession_name:"Software Engineer"},{profession_id:"2",profession_name:"Architect"},{profession_id:"3",profession_name:"Doctor/Medical"},{profession_id:"4",profession_name:"Lecturer/ Professor"}],deferred.resolve(professions)),deferred.promise},_getQuestions=function(qustType){var deferred=$q.defer();return questions&&questions.length>0?deferred.resolve(questions):$http({url:"utilservices/questions/"+qustType,method:"GET"}).then(function(response){questions=response.data,deferred.resolve(questions)},function(error){deferred.reject(error)}),deferred.promise},_getState=function(){var deferred=$q.defer();return states&&states.length>0?deferred.resolve(states):$http({url:"utilservices/states/",method:"GET"}).then(function(response){states=response.data,deferred.resolve(states)},function(error){deferred.reject(error)}),deferred.promise},_getIntAudience=function(){var deferred=$q.defer();return intAudience&&intAudience.length>0?deferred.resolve(intAudience):$http({url:"utilservices/intendedAudience/",method:"GET"}).then(function(response){intAudience=response.data,deferred.resolve(intAudience)},function(error){deferred.reject(error)}),deferred.promise},_getIndustries=function(){var deferred=$q.defer();return industries&&industries.length>0?deferred.resolve(industries):$http({url:"utilservices/industries/",method:"GET"}).then(function(response){industries=response.data,deferred.resolve(industries)},function(error){deferred.reject(error)}),deferred.promise},_getIndustryName=function(industryId){if(industries){var serached=_.findWhere(industries,{industryId:industryId});return serached.industryName}},_getStateName=function(stateId){if(states){var serached=_.findWhere(states,{stateId:stateId});return serached.stateName}},_getProfessionName=function(profId){if(professions){var serached=_.find(professions,function(p){return p.profession_id==profId?p:void 0});return serached.profession_name}},_getAgeGroupName=function(ageId){if(ageGroup){var serached=_.findWhere(ageGroup,{ageId:ageId});return serached.displAge}},_getEducationName=function(educationId){if(educationGroup){var serached=_.findWhere(educationGroup,{eductnId:educationId});return serached.eductnName}};return{getAgeGroup:_getAgeGroup,getEducations:_getEducations,getProfession:_getProfession,getQuestions:_getQuestions,getStates:_getState,getIntAudience:_getIntAudience,getIndustries:_getIndustries,getIndustryName:_getIndustryName,getStateName:_getStateName,getProfessionName:_getProfessionName,getAgeGroupName:_getAgeGroupName,getEducationName:_getEducationName}}]),angular.module("theme.core.services").factory("EntityService",["$http","$q",function($http,$q){"use strict";var _getEntityData=function(options){var deferred=$q.defer(),url="";return url="USER_PROFILE"===options.entityType?"services/userProfile/summary?userId="+options.entityId:"OFFER"===options.entityType?"/services/offer/summary/"+options.entityId:"REQUEST"===options.entityType?"/services/request/summary/"+options.entityId:"/services/policysummary/"+options.entityId,$http({url:url,method:"GET"}).then(function(response){var data=response.data;deferred.resolve(data)},function(error){deferred.reject(error)}),deferred.promise},_getEntityDetailData=function(options){var deferred=$q.defer(),url="";return url="USER"===options.entityType?"/services/userProfile/details/"+options.entityId:"OFFER"===options.entityType?"/services/offer/detail/"+options.entityId:"REQUEST"===options.entityType?"/services/request/detail/"+options.entityId:"/services/policy/"+options.entityId,$http({url:url,method:"GET"}).then(function(response){var data=response.data;deferred.resolve(data)},function(error){deferred.reject(error)}),deferred.promise},_getRelatedUserDetail=function(options){var deferred=$q.defer();return $http({url:"/services/userProfile/summarybyId/"+options.userId,method:"GET"}).then(function(response){deferred.resolve(response.data)},function(error){deferred.reject(error)}),deferred.promise};return{getEntityData:_getEntityData,getEntityDetailData:_getEntityDetailData,getRelatedUserDetail:_getRelatedUserDetail}}]),angular.module("StateService",[]).service("$state",function($rootScope,$location){var getStateFromUrl=function(url){var state={},query=url.split("?")[1];if(query)for(var vars=query.split("&"),i=0;i<vars.length;i++){var pair=vars[i].split("=");pair[0]=decodeURIComponent(pair[0]),pair[1]=decodeURIComponent(pair[1]),pair[1]=pair[1].split(","),"undefined"==typeof state[pair[0]]?state[pair[0]]=pair[1]:"string"==typeof state[pair[0]]&&(state[pair[0]]=_.unique(_.union(state[pair[0]],pair[1])))}return state};$rootScope.$on("$locationChangeSuccess",function(event,newUrl,oldUrl){$rootScope.$broadcast("StateChanged",getStateFromUrl(newUrl),getStateFromUrl(oldUrl))}),this.get=function(param){var q=$location.search()[param]||[];return"string"==typeof q&&(q=q.split(",")),q=_.unique(q)},this.set=function(param,value,action){if(value){var q=$location.search()[param]||[];switch("string"==typeof q&&(q=q.split(",")),_.each(q,function(v){v=v.toString()}),q=_.unique(q),action){case"add":-1===_.indexOf(q,value)&&(q.push(value),q=q.join(),$location.search(param,q));break;case"replace":"object"==typeof value&&(value=value.join()),$location.search(param,value.toString());break;case"remove":-1!==_.indexOf(q,value)&&(q=_.without(q,value),q.length>0?$location.search(param,q):$location.search(param,null))}}return this},this.unset=function(params){return _.each(params,function(param){$location.search(param,null)}),this},this.isset=function(param,value){var q=$location.search()[param]||[];if("string"==typeof q&&(q=q.split(",")),value)return-1!==_.indexOf(q,value)?!0:!1;var keys=_.keys($location.search());return _.contains(keys,param)?!0:!1}}),angular.module("theme.core.services").config(["$httpProvider",function($httpProvider){$httpProvider.interceptors.push(["$q","$window","$location",function($q,$window,$location){return{request:function(config){return $window.localStorage&&$window.localStorage.bk_userInfo&&(config.headers.SECURE_TOKEN=JSON.parse($window.localStorage.bk_userInfo).secureToken,config.headers.CLIENT_ID=JSON.parse($window.localStorage.bk_userInfo).clientId),config},requestError:function(rejection){return $q.reject(rejection)},response:function(response){return response},responseError:function(rejection){return 401===rejection.status||400===rejection.status&&("USER_AUTH_FAIL"==rejection.data.type&&$location.path("/login"),console.log("Error")),$q.reject(rejection)}}}])}]),angular.module("theme",["ngCookies","ngResource","ngSanitize","ngRoute","ngAnimate","ui.bootstrap","ui.select","theme.core.templates","theme.core.template_overrides","theme.core.panels","theme.core.directives","theme.core.main_controller","theme.core.navigation_controller","theme.core.goipolicy_controller","theme.core.businessnews_controller","theme.core.search_controller","theme.core.entitydetail_controller","theme.core.contactus_controller"]),angular.module("theme.demos.basic_tables",[]).controller("TablesBasicController",["$scope",function($scope){"use strict";$scope.data={headings:["#","First Name","Last Name","Username"],rows:[["1","Mark","Otto","@mdo"],["2","Jacob","Thornton","@fat"],["3","Larry","the Bird","@twitter"]]}}]),angular.module("theme.demos.boxed_layout",["theme.core.services"]).controller("BoxedPageController",["$scope","$theme",function($scope,$theme){"use strict";$theme.set("layoutBoxed",!0),$scope.$on("$destroy",function(){$theme.set("layoutBoxed",!1)})}]),angular.module("theme.demos.editable_table",[]).controller("TablesEditableController",["$scope","$filter",function($scope,$filter){"use strict";$scope.myData=[{name:"Moroni",age:50},{name:"Tiancum",age:43},{name:"Jacob",age:27},{name:"Nephi",age:29},{name:"Enos",age:34}],$scope.gridOptions={data:"myData",enableCellSelection:!0,enableRowSelection:!1,enableCellEditOnFocus:!0,columnDefs:[{field:"name",displayName:"Name",enableCellEdit:!0},{field:"age",displayName:"Age",enableCellEdit:!0}]},$scope.users=[{id:1,name:"awesome user1",status:2,group:4,groupName:"admin"},{id:2,name:"awesome user2",status:void 0,group:3,groupName:"vip"},{id:3,name:"awesome user3",status:2,group:null}],$scope.statuses=[{value:1,text:"status1"},{value:2,text:"status2"},{value:3,text:"status3"},{value:4,text:"status4"}],$scope.groups=[{id:1,text:"MVP"},{id:2,text:"VIP"},{id:3,text:"ADMINS"},{id:4,text:"USER"}],$scope.showGroup=function(user){if(user.group&&$scope.groups.length){var selected=$filter("filter")($scope.groups,{id:user.group});return selected.length?selected[0].text:"Not set"}return user.groupName||"Not set"},$scope.showStatus=function(user){var selected=[];return user.status&&(selected=$filter("filter")($scope.statuses,{value:user.status})),selected.length?selected[0].text:"Not set"},$scope.saveUser=function(data,id){angular.extend(data,{id:id})},$scope.removeUser=function(index){$scope.users.splice(index,1)},$scope.addUser=function(){$scope.inserted={id:$scope.users.length+1,name:"",status:null,group:null},$scope.users.push($scope.inserted)}}]),angular.module("theme.demos.forms",["flow","angular-meditor","theme.core.directives","theme.core.services"]).config(["flowFactoryProvider","$routeProvider",function(flowFactoryProvider,$routeProvider){"use strict";flowFactoryProvider.defaults={target:"",permanentErrors:[500,501],maxChunkRetries:1,chunkRetryInterval:5e3,simultaneousUploads:1},flowFactoryProvider.on("catchAll",function(event){console.log("catchAll",event)})}]),angular.module("theme.demos.filter",[]).controller("FilterUserController",["$scope","$filter",function($scope,$filter){"use strict"}]),angular.module("theme.demos.offer",[]).controller("CreateOfferController",["$scope","$timeout","$log","$http","LookUpService","UserAuthentication","$window","$route",function($scope,$timeout,$log,$http,LookUpService,UserAuthentication,$window,$route){"use strict";$scope.id=$route.current.params.id,console.log("Offer COntroller: "+$scope.id),$scope.waiting=!0,$scope.isSaveClicked=!1,$scope.checking=!1,$scope.checked=!1,$scope.user={},$scope.selectedAgeId=0,$scope.selectedEducationId=0,$scope.selectedProfessionId=0,$scope.selectedStateId=0,LookUpService.getStates().then(function(data){$scope.states=data},function(error){$log.log(error)}),LookUpService.getQuestions("O").then(function(data){$scope.questions=data;for(var i=0;i<$scope.questions.length;i++)$scope.questions[i].value="N"},function(error){console.log("In questions http"),$log.log(error)}),LookUpService.getIntAudience().then(function(data){$scope.intendedAudience=data},function(error){$log.log(error)}),$scope.selectedIndustries={selected:[]},$scope.selectedStates={selected:[]},$scope.lookingfor={selected:[]},$scope.selectedAudience={selected:[]},$scope.industries=[],$http.get("utilservices/industries").success(function(response){$scope.industries=response}),void 0!==$scope.id?$timeout(function(){$http({url:"/services/offer/detailinedit/"+$scope.id,method:"GET"}).then(function(response){var data=response.data;if($scope.offerTitle=data.title,$scope.offerDescription=data.description,data.imgUrl){var imagePath=data.imgUrl,widgetFileInput=$(".fileinput").fileinput();widgetFileInput.addClass("fileinput-exists").removeClass("fileinput-new"),imagePath&&(widgetFileInput.find(".thumbnail").append('<img src="'+imagePath+'">'),$scope.userImageId=imagePath.substring(imagePath.lastIndexOf("/")+1,imagePath.length).split(".")[0],$scope.actualImageName=imagePath.substring(imagePath.lastIndexOf("/")+1,imagePath.length),console.log("actualImageName is :",$scope.actualImageName))}for(var i=0;i<data.trgtIndustry.length;i++)for(var j=0;j<$scope.industries.length;j++)if(data.trgtIndustry[i]==$scope.industries[j].industryId){$scope.selectedIndustries.selected.push($scope.industries[j]);break}for(var i=0;i<data.trgtLocation.length;i++)for(var j=0;j<$scope.states.length;j++)if(data.trgtLocation[i]==$scope.states[j].stateId){$scope.selectedStates.selected.push($scope.states[j]);break}for(var i=0;i<$scope.intendedAudience.length;i++)$scope.intendedAudience[i].targAudId===data.intdAudience&&$scope.selectedAudience.selected.push($scope.intendedAudience[i]);$scope.waiting=!1},function(error){console.log("Error in pulling the offer data")})},1e3):$scope.waiting=!1,$scope.formControl={isTitleValid:!0,isIndustryValid:!0,isIntendedAudienceValid:!0,isTargetLocationValid:!0},$scope.$watch("formControl",function(newval,oldval){},!0),$scope.checkValidation=function(prop,value){$scope.formControl.hasOwnProperty(prop)&&(value?$scope.formControl[prop]=!0:$scope.formControl[prop]=!1)},$scope.$watch("offerTitle",function(newval,oldval){$scope.checkValidation("isTitleValid",newval)}),$scope.$watch("selectedIndustries",function(newval,oldval){null!=newval&&newval.selected&&$scope.checkValidation("isIndustryValid",newval.selected[0])},!0),$scope.$watch("selectedAudience",function(newval,oldval){null!=newval&&newval.selected&&$scope.checkValidation("isIntendedAudienceValid",newval.selected[0])},!0),$scope.$watch("selectedStates",function(newval,oldval){null!=newval&&newval.selected&&$scope.checkValidation("isTargetLocationValid",newval.selected[0])},!0),$scope.provideColor=function(value){return $scope.isSaveClicked?value?{border:"1px solid green"}:{border:"1px solid red"}:void 0},$(".fileinput").bind("change.bs.fileinput",function(file){if(file&&void 0!==file.target.value){var fileIndex=file.target.value.lastIndexOf("\\"),fileName=file.target.value.substring(file.target.value.lastIndexOf("\\")+1,file.target.value.length);fileIndex>-1?fileName!=$scope.actualImageName&&(""!==$scope.actualImageName?($scope.actualImageName=fileName,$scope.deleteFile(),$timeout(function(){$scope.createFile()},100)):($scope.actualImageName=fileName,$scope.createFile())):$scope.actualImageName=fileName}console.log("change.bs.fileinput was called")}),$(".fileinput").bind("clear.bs.fileinput",function(event,file){console.log("clear.bs.fileinput was called"),$scope.deleteFile()}),$(".fileinput").bind("reset.bs.fileinput",function(event,file){console.log("reset.bs.fileinput was called")}),$scope.deleteFile=function(){$http({url:"services/delete/"+$scope.userImageId+"/image",method:"GET"}).then(function(data){$scope.ImageId="",$scope.ImageUrl="",$scope.imageUrl=""},function(error){console.log("Error in delete")})},$scope.createFile=function(){var documentInput=angular.element("#documentInput"),file=documentInput[0].files[0],formData=new FormData;formData.append("file",file),$http({url:"/services/upload/",method:"POST",headers:{"Content-Type":void 0},transformRequest:function(data){return data},data:formData,cache:!1}).then(function(response){return $scope.imageUrl=response.data.url,$scope.ImageId=response.data.publicId,$scope.ImageUrl=response.data.url,response.data},function(response){return alert("Error loading file... Please try again."),response.data})},$scope["delete"]=function(){$http({url:"/services/offer/"+$scope.id,method:"DELETE"}).then(function(){$window.location.href="/#/myoffers"},function(error){console.log("Cannot delete request",error)})},$scope.save=function(){var state=[],tags=[];$scope.isSaveClicked=!0;var isFormValid=!0;for(var property in $scope.formControl)$scope.formControl.hasOwnProperty(property)&&0==$scope.formControl[property]&&(isFormValid=!1);if(isFormValid){$scope.waiting=!0;for(var i=0;i<$scope.selectedStates.selected.length;i++)state.push($scope.selectedStates.selected[i].stateId),tags.push($scope.states[i].stateName);for(var industries=[],i=0;i<$scope.selectedIndustries.selected.length;i++)industries.push($scope.selectedIndustries.selected[i].industryId),tags.push($scope.selectedIndustries.selected[i].industryName);for(var intAudience=[],i=0;i<$scope.selectedAudience.selected.length;i++)intAudience.push($scope.selectedAudience.selected[i].targAudId);for(var questions=[],i=0;i<$scope.questions.length;i++){var q={questionId:$scope.questions[i].questId,response:$scope.questions[i].value};questions.push(q)}void 0!==$scope.id?$http({url:"/services/offer",method:"PUT",isArray:!1,data:{id:$scope.id,title:$scope.offerTitle,description:$scope.offerDescription,trgtIndustry:industries,intdAudience:intAudience[0],trgtLocation:state,imgUrl:$scope.imageUrl,questionList:questions},cache:!1}).then(function(response){$scope.waiting=!1;var tagEntity={entityId:$scope.id,entityType:"OFFER",tags:tags};$http({url:"services/tag",method:"POST",data:tagEntity}).then(function(response){$scope.waiting=!1},function(error){console.log("TAG Entity error",error)})},function(response){}):$http({url:"/services/offer",method:"POST",isArray:!1,data:{title:$scope.offerTitle,description:$scope.offerDescription,trgtIndustry:industries,intdAudience:intAudience[0],trgtLocation:state,imgUrl:$scope.imageUrl,questionList:questions},cache:!1}).then(function(response){$scope.waiting=!1,$scope.id=response.data;var tagEntity={entityId:response.data,entityType:"OFFER",tags:tags};$http({url:"services/tag",method:"POST",data:tagEntity}).then(function(response){$scope.waiting=!1},function(error){console.log("TAG Entity error",error)})},function(response){})}}}]),angular.module("theme.demos.request",[]).controller("CreateRequestController",["$scope","$timeout","$log","$http","LookUpService","UserAuthentication","$window","$route",function($scope,$timeout,$log,$http,LookUpService,UserAuthentication,$window,$route){"use strict";$scope.id=$route.current.params.id,console.log("Request COntroller: "+$scope.id),$scope.waiting=!0,$scope.isSaveClicked=!1,$scope.formControl={isTitleValid:!0,isIndustryValid:!0,isIntendedAudienceValid:!0,isTargetLocationValid:!0},$scope.$watch("formControl",function(newval,oldval){},!0),$scope.checkValidation=function(prop,value){$scope.formControl.hasOwnProperty(prop)&&(value?$scope.formControl[prop]=!0:$scope.formControl[prop]=!1)},$scope.$watch("requestTitle",function(newval,oldval){$scope.checkValidation("isTitleValid",newval)}),$scope.$watch("selectedIndustries",function(newval,oldval){null!=newval&&newval.selected&&$scope.checkValidation("isIndustryValid",newval.selected[0])},!0),$scope.$watch("selectedAudience",function(newval,oldval){null!=newval&&newval&&$scope.checkValidation("isIntendedAudienceValid",newval)},!0),$scope.$watch("selectedStates",function(newval,oldval){null!=newval&&newval.selected&&$scope.checkValidation("isTargetLocationValid",newval.selected[0])},!0),$scope.provideColor=function(value){return $scope.isSaveClicked?value?{border:"1px solid green"}:{border:"1px solid red"}:void 0},LookUpService.getStates().then(function(data){$scope.states=data},function(error){$log.log(error)}),LookUpService.getQuestions("R").then(function(data){$scope.questions=data;for(var i=0;i<$scope.questions.length;i++)$scope.questions[i].value="N"},function(error){console.log("In questions http"),$log.log(error)}),LookUpService.getIntAudience().then(function(data){$scope.intendedAudience=data},function(error){$log.log(error)}),$scope.selectedIndustries={selected:[]},$scope.selectedStates={selected:[]},$scope.selectedAudience=0,$scope.industries=[],$http.get("utilservices/industries").success(function(response){$scope.industries=response}),void 0!==$scope.id?$http({url:"/services/request/detailinedit/"+$scope.id,method:"GET"}).then(function(response){var data=response.data;$scope.requestTitle=data.title,$scope.requestDescription=data.description;for(var i=0;i<data.trgtIndustry.length;i++)for(var j=0;j<$scope.industries.length;j++)if(data.trgtIndustry[i]==$scope.industries[j].industryId){$scope.selectedIndustries.selected.push($scope.industries[j]);break}for(var i=0;i<data.trgtLocation.length;i++)for(var j=0;j<$scope.states.length;j++)if(data.trgtLocation[i]==$scope.states[j].stateId){$scope.selectedStates.selected.push($scope.states[j]);break}for(var i=0;i<$scope.questions.length;i++)for(var j=0;j<data.questionList.length;j++)data.questionList[j].questionId==$scope.questions[i].questId&&($scope.questions[i].value=data.questionList[j].response);$scope.selectedAudience=data.intdAudience,$scope.waiting=!1},function(error){console.log("Error in pulling the offer data")}):$scope.waiting=!1,$scope.reg_form={},$scope.form={},$scope.checking=!1,$scope.checked=!1,$scope.user={},$scope.selectedAgeId=0,$scope.selectedEducationId=0,$scope.selectedProfessionId=0,$scope.selectedStateId=0,$scope["delete"]=function(){$http({url:"/services/request/"+$scope.id,method:"DELETE"}).then(function(){$window.location.href="/#/requests"},function(error){console.log("Cannot delete request",error)})},$scope.save=function(){var state=[],tags=[];$scope.isSaveClicked=!0;var isFormValid=!0;for(var property in $scope.formControl)$scope.formControl.hasOwnProperty(property)&&0==$scope.formControl[property]&&(isFormValid=!1);if(isFormValid){for(var i=0;i<$scope.selectedStates.selected.length;i++)state.push($scope.selectedStates.selected[i].stateId),tags.push($scope.states[i].stateName);for(var industries=[],i=0;i<$scope.selectedIndustries.selected.length;i++)industries.push($scope.selectedIndustries.selected[i].industryId),tags.push($scope.selectedIndustries.selected[i].industryName);for(var questions=[],i=0;i<$scope.questions.length;i++){var q={questionId:$scope.questions[i].questId,response:$scope.questions[i].value};questions.push(q)}$scope.waiting=!0,void 0!==$scope.id?$http({url:"/services/request",method:"PUT",isArray:!1,data:{id:$scope.id,title:$scope.requestTitle,description:$scope.requestDescription,trgtIndustry:industries,intdAudience:$scope.selectedAudience,trgtLocation:state,imgUrl:$scope.imageUrl,questionList:questions},cache:!1}).then(function(response){$scope.waiting=!1;var tagEntity={entityId:$scope.id,entityType:"REQUEST",tags:tags};$http({url:"services/tag",method:"POST",data:tagEntity}).then(function(response){$scope.waiting=!1},function(error){console.log("TAG Entity error",error)})},function(response){$window.location.href="/#/myrequests"}):$http({url:"/services/request",method:"POST",isArray:!1,data:{title:$scope.requestTitle,description:$scope.requestDescription,trgtIndustry:industries,intdAudience:$scope.selectedAudience,trgtLocation:state,imgUrl:$scope.imageUrl,questionList:questions},cache:!1}).then(function(response){$scope.waiting=!1,$scope.id=response.data;var tagEntity={entityId:response.data,entityType:"REQUEST",tags:tags};$http({url:"services/tag",method:"POST",data:tagEntity}).then(function(response){$scope.waiting=!1},function(error){console.log("TAG Entity error",error)})},function(response){$window.location.href="/#/myrequests"})}}}]),angular.module("theme.demos.myoffer",[]).controller("MyOfferController",["$scope","$http","$location",function($scope,$http,$location){$scope.waiting=!0,$http.get("/services/offer").success(function(response){$scope.offers=response,$scope.waiting=!1}).error(function(){$scope.offers=[],$scope.waiting=!1}),$scope.openOffer=function(offer){$location.url("/createoffer?id="+offer.id)},$scope.createOffer=function(){$location.url("/createoffer")}}]),angular.module("theme.demos.myrequest",[]).controller("MyrequestController",["$scope","$http","$window","$location",function($scope,$http,$window,$location){$scope.waiting=!0,$http.get("/services/request").success(function(response){$scope.requests=response,$scope.waiting=!1}).error(function(){$scope.offers=[],$scope.waiting=!1}),$scope.openRequest=function(request){$location.url("/createrequest?id="+request.id)},$scope.createRequest=function(){$location.path("/createrequest")}}]),angular.module("theme.demos.chngpwd",[]).controller("ChangePasswordController",["$scope","$http","$window","$location",function($scope,$http,$window,$location){$scope.message="",$scope.alert={type:"success",msg:"<strong>Password</strong> changed successfully."},$scope.chngPassword=function(){return console.log("In Change Password"),console.log($scope.oldPassword),console.log($scope.newPassword),console.log($scope.cNewpassword),$scope.newPassword!==$scope.cNewpassword?($scope.message="error",$scope.alert={type:"danger",msg:"<strong>Passwords</strong> do not match."},!1):void $http({url:"services/changePassword",method:"POST",data:{email:$scope.email,password:$scope.oldPassword,newPassword:$scope.newPassword}}).then(function(response){$scope.message="success",$scope.alert={type:"success",msg:"<strong>Password</strong> changed successfully."}},function(error){$scope.alert={type:"alert",msg:"<strong>Password</strong> was not updated. Try again."}})}}]),angular.module("theme.demos.myuser",["ui.bootstrap"]).controller("UserManagementController",["$rootScope","$scope","$http","$location","$modal","$log",function($rootScope,$scope,$http,$location,$modal,$log){$scope.waiting=!0,$http.get("/manageUsers").success(function(response){$scope.users=response,$scope.waiting=!1}).error(function(){$scope.users=[],$scope.waiting=!1}),$scope.editUser=function(user){$modal.open({animation:!0,templateUrl:"views/edituser.html",controller:"EditUserController",scope:$scope,resolve:{existinguser:function(){return user}}})}}]),angular.module("theme.demos.myuser").controller("EditUserController",["$rootScope","$scope","existinguser","$location","$modalInstance","$http",function($rootScope,$scope,existinguser,$location,$modalInstance,$http){$scope.user=existinguser,$scope.saveUser=function(user){$http({url:"/manageUsers",method:"POST",data:user,cache:!1}).then(function(response){$scope.message="success",$scope.alert={type:"success",msg:"<strong>User role</strong> changed successfully."}},function(error){$scope.alert={type:"alert",msg:"<strong>User role</strong> was not updated. Try again."}})},$scope.close=function(){$modalInstance.dismiss("cancel")}}]),angular.module("theme.demos.forms").controller("AngularFormValidationController",["$scope",function($scope){"use strict";$scope.validateDemoForm={},$scope.form={},$scope.canResetValidationForm=function(){return $scope.form.validateDemoForm.$dirty},$scope.resetValidationForm=function(){$scope.validateDemoForm.required="",$scope.validateDemoForm.minlength="",$scope.validateDemoForm.maxlength="",$scope.validateDemoForm.rangelength="",$scope.validateDemoForm.pattern="",$scope.validateDemoForm.email="",$scope.validateDemoForm.url="",$scope.validateDemoForm.digits="",$scope.validateDemoForm.digits_min="",$scope.validateDemoForm.digits_max="",$scope.validateDemoForm.digits_minmax="",$scope.validateDemoForm.alphanumeric="",$scope.validateDemoForm.password="",$scope.validateDemoForm.confirm_password="",$scope.validateDemoForm.terms="",$scope.form.validateDemoForm.$setPristine()},$scope.canSubmitValidationForm=function(){return $scope.form.validateDemoForm.$valid},$scope.submit=function(){}}]),angular.module("theme.demos.forms").controller("DatepickerDemoController",["$scope",function($scope){"use strict";$scope.today=function(){$scope.dt=new Date},$scope.today(),$scope.clear=function(){$scope.dt=null},$scope.disabled=function(date,mode){return"day"===mode&&(0===date.getDay()||6===date.getDay())},$scope.toggleMin=function(){$scope.minDate=$scope.minDate?null:new Date},$scope.toggleMin(),$scope.open=function($event){$event.preventDefault(),$event.stopPropagation(),$scope.opened=!0;
},$scope.dateOptions={formatYear:"yy",startingDay:1},$scope.initDate=new Date("2016-15-20"),$scope.formats=["dd-MMMM-yyyy","yyyy/MM/dd","dd.MM.yyyy","shortDate"],$scope.format=$scope.formats[0]}]),angular.module("theme.demos.forms").controller("DateRangePickerDemo",["$scope","$window",function($scope,$window){"use strict";var moment=$window.moment;$scope.drp_start=moment().subtract(1,"days").format("MMMM D, YYYY"),$scope.drp_end=moment().add(31,"days").format("MMMM D, YYYY"),$scope.drp_options={ranges:{Today:[moment(),moment()],Yesterday:[moment().subtract(1,"days"),moment().subtract(1,"days")],"Last 7 Days":[moment().subtract(6,"days"),moment()],"Last 30 Days":[moment().subtract(29,"days"),moment()],"This Month":[moment().startOf("month"),moment().endOf("month")],"Last Month":[moment().subtract(1,"month").startOf("month"),moment().subtract(1,"month").endOf("month")]},opens:"left",startDate:moment().subtract(29,"days"),endDate:moment()}}]),angular.module("theme.demos.forms").controller("FormComponentsController",["$scope","$http","$theme",function($scope,$http,$theme){"use strict";$scope.getBrandColor=function(color){return $theme.getBrandColor(color)},$scope.switchStatus=1,$scope.switchStatus2=1,$scope.switchStatus3=1,$scope.switchStatus4=1,$scope.switchStatus5=1,$scope.switchStatus6=1,$scope.getLocation=function(val){return $http.get("http://maps.googleapis.com/maps/api/geocode/json",{params:{address:val,sensor:!1}}).then(function(res){var addresses=[];return angular.forEach(res.data.results,function(item){addresses.push(item.formatted_address)}),addresses})},$scope.colorPicked="#fa4d4d",$scope.tagList=["tag1","tag2"],$scope.select2TaggingOptions={multiple:!0,simple_tags:!0,tags:["tag1","tag2","tag3","tag4"]},$scope.clear=function(){$scope.person.selected=void 0,$scope.address.selected=void 0,$scope.country.selected=void 0},$scope.someGroupFn=function(item){return item.name[0]>="A"&&item.name[0]<="M"?"From A - M":item.name[0]>="N"&&item.name[0]<="Z"?"From N - Z":void 0},$scope.availableColors=["Red","Green","Blue","Yellow","Magenta","Maroon","Umbra","Turquoise"],$scope.multipleDemo={},$scope.multipleDemo.colors=["Blue","Red"],$scope.multipleDemo.colors2=["Blue","Red"],$scope.address={},$scope.refreshAddresses=function(address){var params={address:address,sensor:!1};return $http.get("http://maps.googleapis.com/maps/api/geocode/json",{params:params}).then(function(response){$scope.addresses=response.data.results})},$scope.selectedCountry={},$scope.selectedCountries={},$scope.countries=[],$http.get("assets/demo/countries.json").success(function(response){$scope.countries=response})}]),angular.module("theme.demos.forms").controller("ImageCropController",["$scope",function($scope){"use strict";$scope.cropped=!1;var imgBounds;$scope.setBounds=function(bounds){imgBounds=bounds},$scope.selected=function(coords){$scope.imageWidth=imgBounds[0],$scope.containerWidth=coords.w,$scope.containerHeight=coords.h,$scope.imageTop=-coords.y,$scope.imageLeft=-coords.x,$scope.cropped=!0}}]),angular.module("theme.demos.forms").controller("InlineEditableController",["$scope","$filter",function($scope,$filter){"use strict";$scope.user={name:"awesome user",status:2,group:4,groupName:"admin",email:"email@example.com",tel:"123-45-67",number:29,range:10,url:"http://example.com",search:"blabla",color:"#6a4415",date:null,time:"12:30",datetime:null,month:null,week:null,desc:"Awesome user \ndescription!",remember:!0,dob:new Date(1984,4,15),timebs:new Date(1984,4,15,19,20)},$scope.statuses=[{value:1,text:"status1"},{value:2,text:"status2"},{value:3,text:"status3"},{value:4,text:"status4"}],$scope.showStatus=function(){var selected=$filter("filter")($scope.statuses,{value:$scope.user.status});return $scope.user.status&&selected.length?selected[0].text:"Not set"},$scope.groups=[{id:1,text:"MVP"},{id:2,text:"VIP"},{id:3,text:"ADMIN"},{id:4,text:"USER"}],$scope.$watch("user.group",function(newVal,oldVal){if(newVal!==oldVal){var selected=$filter("filter")($scope.groups,{id:$scope.user.group});$scope.user.groupName=selected.length?selected[0].text:null}})}]),angular.module("theme.demos.forms").controller("TimepickerDemoCtrl",["$scope",function($scope){"use strict";$scope.mytime=new Date,$scope.hstep=1,$scope.mstep=15,$scope.options={hstep:[1,2,3],mstep:[1,5,10,15,25,30]},$scope.ismeridian=!0,$scope.toggleMode=function(){$scope.ismeridian=!$scope.ismeridian},$scope.update=function(){var d=new Date;d.setHours(14),d.setMinutes(0),$scope.mytime=d},$scope.changed=function(){console.log("Time changed to: "+$scope.mytime)},$scope.clear=function(){$scope.mytime=null}}]),angular.module("theme.demos.gallery",["ui.bootstrap"]).controller("GalleryController",["$scope","$modal","$timeout",function($scope,$modal){"use strict";$scope.galleryFilter="all",$scope.openImageModal=function($event){$event.preventDefault(),$event.stopPropagation(),$modal.open({templateUrl:"imageModalContent.html",controller:["$scope","$modalInstance","src",function($scope,$modalInstance,src){$scope.src=src,$scope.cancel=function(){$modalInstance.dismiss("cancel")}}],size:"lg",resolve:{src:function(){return console.log($event.target.src.replace("thumb_","")),$event.target.src.replace("thmb_","")}}})}}]),angular.module("theme.mail.inbox_controller",[]).controller("InboxController",["$scope","$location",function($scope,$location){"use strict";$scope.openMail=function(){$location.path("/read-mail")}}]),angular.module("theme.demos.mail",[]).config(["$routeProvider",function($routeProvider){"use strict";$routeProvider.when("/inbox",{templateUrl:"views/extras-inbox.html"}).when("/compose-mail",{templateUrl:"views/extras-inbox-compose.html"}).when("/read-mail",{templateUrl:"views/extras-inbox-read.html"})}]),angular.module("theme.demos.ng_grid",["ngGrid"]).controller("TablesAdvancedController",["$scope","$filter","$http",function($scope,$filter,$http){"use strict";$scope.filterOptions={filterText:"",useExternalFilter:!0},$scope.totalServerItems=0,$scope.pagingOptions={pageSizes:[25,50,100],pageSize:25,currentPage:1},$scope.setPagingData=function(data,page,pageSize){var pagedData=data.slice((page-1)*pageSize,page*pageSize);$scope.myData=pagedData,$scope.totalServerItems=data.length,$scope.$$phase||$scope.$apply()},$scope.getPagedDataAsync=function(pageSize,page,searchText){setTimeout(function(){var data;if(searchText){var ft=searchText.toLowerCase();$http.get("assets/demo/ng-data.json").success(function(largeLoad){data=largeLoad.filter(function(item){return-1!==JSON.stringify(item).toLowerCase().indexOf(ft)}),$scope.setPagingData(data,page,pageSize)})}else $http.get("assets/demo/ng-data.json").success(function(largeLoad){$scope.setPagingData(largeLoad,page,pageSize)})},100)},$scope.getPagedDataAsync($scope.pagingOptions.pageSize,$scope.pagingOptions.currentPage),$scope.$watch("pagingOptions",function(newVal,oldVal){newVal!==oldVal&&$scope.getPagedDataAsync($scope.pagingOptions.pageSize,$scope.pagingOptions.currentPage,$scope.filterOptions.filterText)},!0),$scope.$watch("filterOptions",function(newVal,oldVal){newVal!==oldVal&&$scope.getPagedDataAsync($scope.pagingOptions.pageSize,$scope.pagingOptions.currentPage,$scope.filterOptions.filterText)},!0),$scope.gridOptions={data:"myData",enablePaging:!0,showFooter:!0,totalServerItems:"totalServerItems",pagingOptions:$scope.pagingOptions,filterOptions:$scope.filterOptions}}]),angular.module("theme.demos.panels",[]).controller("PanelsController",["$scope","$timeout",function($scope,$timeout){"use strict";$scope.rootPanels=[{active:!1},{active:!0}],$scope.alert=function(a){console.log(a)},$scope.demoPanelClass="panel-sky",$scope.demoPanelHeading="Simple Panel Heading",$scope.demoTabbedPanelClass="panel-danger",$scope.demoTabbedPanelHeading="Tabbed Panel Heading",$scope.demoPanelIcon="fa fa-cog",$scope.demoDynamicIcons=function(){$scope.demoPanelIcon="fa fa-spinner fa-spin",$timeout(function(){$scope.demoPanelIcon="fa fa-tasks"},1500)}}]),angular.module("theme.demos.registration_page",[]).controller("RegistrationPageController",["$rootScope","$scope","$timeout","$log","$http","LookUpService","UserAuthentication","$route",function($rootScope,$scope,$timeout,$log,$http,LookUpService,UserAuthentication,$route){"use strict";function validateURL(textval,type){var urlregex=new RegExp("^(http|https|ftp)://([a-zA-Z0-9.-]+(:[a-zA-Z0-9.&amp;%$-]+)*@)*((25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[1-9]).(25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[1-9]|0).(25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[1-9]|0).(25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[0-9])|([a-zA-Z0-9-]+.)*[a-zA-Z0-9-]+.(com|edu|gov|int|mil|net|org|biz|arpa|info|name|pro|aero|coop|museum|[a-zA-Z]{2}))(:[0-9]+)*(/($|[a-zA-Z0-9.,?'\\+&amp;%$#=~_-]+))*$");return-1!==textval.toUpperCase().indexOf(type.toUpperCase())?urlregex.test(textval):!1}$scope.reg_form={},$scope.isSaveClicked=!1,$scope.formControl={isfirstNameValid:!0,islastNameValid:!0,isaboutMeValid:!0,isprofessionValid:!0,isageGroupValid:!0,iseducatonValid:!0,isexperienceValid:!0,isstateValid:!0,iscompanyUrlValid:!0,isIndustryValid:!0,isFBUrlValid:!0,istwitterUrlValid:!0,islinkedinUrlValid:!0};var message=$route.current.params.message;message&&"firstLogin"===message?($scope.firstLogin=message,$scope.alert={type:"success",msg:"<strong>Welcome to BusinessKaro</strong>. Please enter your personal details."}):message&&"filldetails"===message&&($scope.firstLogin=message,$scope.alert={type:"warning",msg:"You need to enter your profile information to connect."}),$scope.checking=!1,$scope.checked=!1,$scope.user={},$scope.selectedAgeId=0,$scope.selectedEducationId=0,$scope.selectedProfessionId=0,$scope.selectedStateId=0,$scope.newUser=!1,$scope.waiting=!0,$scope.selectedIndustries={selected:[]},$scope.lookingfor={selected:[]},$scope.industries=[],LookUpService.getIndustries().then(function(data){$scope.industries=data},function(error){$log.log(error)}),LookUpService.getAgeGroup().then(function(data){$scope.ageGroup=data},function(error){$log.log(error)}),LookUpService.getEducations().then(function(data){$scope.educations=data},function(error){$log.log(error)}),LookUpService.getProfession().then(function(data){$scope.professions=data},function(error){$log.log(error)}),LookUpService.getStates().then(function(data){$scope.states=data},function(error){$log.log(error)}),UserAuthentication.getUserDetailProfile().then(function(data){if(data&&data.data.details&&data.data.summary){$scope.user.details=data.data.details,$scope.user.summary=data.data.summary;for(var i=0;i<$scope.user.summary.industrys.length;i++)for(var j=0;j<$scope.industries.length;j++)if($scope.user.summary.industrys[i]==$scope.industries[j].industryId){$scope.selectedIndustries.selected.push($scope.industries[j]);break}if(data.data.newUser&&($scope.newUser=!0,$rootScope.newUser=!0,$rootScope.profileCreated=0),$scope.user.details.imageUrl){var imagePath=$scope.user.details.imageUrl,widgetFileInput=$(".fileinput").fileinput();widgetFileInput.addClass("fileinput-exists").removeClass("fileinput-new"),imagePath&&(widgetFileInput.find(".thumbnail").append('<img src="'+imagePath+'">'),$scope.userImageId=imagePath.substring(imagePath.lastIndexOf("/")+1,imagePath.length).split(".")[0],$scope.actualImageName=imagePath.substring(imagePath.lastIndexOf("/")+1,imagePath.length),console.log("actualImageName is :",$scope.actualImageName))}}$scope.waiting=!1},function(error){"ENTITY_NOT_FOUND"===error.type&&($rootScope.profileCreated=0),console.log("Error happened")}),$scope.userImageId="",$scope.userImageUrl="",$scope.isUploadCalled=!1,$scope.actualImageName="",$scope.checkValidation=function(prop,value){$scope.formControl.hasOwnProperty(prop)&&(value&&"0"!=value?$scope.formControl[prop]=!0:$scope.formControl[prop]=!1)},$scope.provideColor=function(value){return $scope.isSaveClicked?value?{border:"1px solid green"}:{border:"1px solid red"}:void 0},$scope.$watch("user.summary.firstName",function(newval,oldval){$scope.checkValidation("isfirstNameValid",newval)}),$scope.$watch("user.summary.lastName",function(newval,oldval){$scope.checkValidation("islastNameValid",newval)}),$scope.$watch("user.summary.aboutMe",function(newval,oldval){$scope.checkValidation("isaboutMeValid",newval)}),$scope.$watch("user.details.professionalId",function(newval,oldval){$scope.checkValidation("isprofessionValid",newval)}),$scope.$watch("user.details.ageGroupId",function(newval,oldval){$scope.checkValidation("isageGroupValid",newval)}),$scope.$watch("user.details.educatonId",function(newval,oldval){$scope.checkValidation("iseducatonValid",newval)}),$scope.$watch("user.details.experienceId",function(newval,oldval){$scope.checkValidation("isexperienceValid",newval)}),$scope.$watch("user.details.stateId",function(newval,oldval){$scope.checkValidation("isstateValid",newval)}),$scope.$watch("user.summary.companyUrl",function(newval,oldval){"E"!=$scope.user.summary.userType&&$scope.checkValidation("iscompanyUrlValid",newval)}),$scope.$watch("user.details.faceBookUrl",function(newval,oldval){newval?validateURL(newval,"facebook")?$scope.checkValidation("isFBUrlValid","fb"):$scope.checkValidation("isFBUrlValid",null):$scope.checkValidation("isFBUrlValid","fb")}),$scope.$watch("user.details.twiterURL",function(newval,oldval){newval?validateURL(newval,"twitter")?$scope.checkValidation("istwitterUrlValid","tw"):$scope.checkValidation("istwitterUrlValid",null):$scope.checkValidation("istwitterUrlValid","tw")}),$scope.$watch("user.details.linkedInUrl",function(newval,oldval){newval?validateURL(newval,"linkedin")?$scope.checkValidation("islinkedinUrlValid","ln"):$scope.checkValidation("islinkedinUrlValid",null):$scope.checkValidation("islinkedinUrlValid","ln")}),$scope.$watch("formControl",function(newval,oldval){},!0),$scope.$watch("selectedIndustries",function(newval,oldval){null!=newval&&newval.selected&&$scope.checkValidation("isIndustryValid",newval.selected[0])},!0),$(".fileinput").bind("change.bs.fileinput",function(file){if(file&&void 0!==file.target.value){var fileIndex=file.target.value.lastIndexOf("\\"),fileName=file.target.value.substring(file.target.value.lastIndexOf("\\")+1,file.target.value.length);fileIndex>-1?fileName!=$scope.actualImageName&&(""!==$scope.actualImageName?($scope.actualImageName=fileName,$scope.deleteFile(),$timeout(function(){$scope.createFile()},100)):($scope.actualImageName=fileName,$scope.createFile())):$scope.actualImageName=fileName}console.log("change.bs.fileinput was called")}),$(".fileinput").bind("clear.bs.fileinput",function(event,file){console.log("clear.bs.fileinput was called"),$scope.deleteFile()}),$(".fileinput").bind("reset.bs.fileinput",function(event,file){console.log("reset.bs.fileinput was called")}),$scope.deleteFile=function(){$http({url:"services/delete/"+$scope.userImageId+"/image",method:"GET"}).then(function(data){$scope.userImageId="",$scope.userImageUrl="",$scope.user.details.imageUrl=""},function(error){console.log("Error in delete")})},$scope.createFile=function(){var documentInput=angular.element("#documentInput"),file=documentInput[0].files[0],formData=new FormData;formData.append("file",file),$http({url:"/services/upload/",method:"POST",headers:{"Content-Type":void 0},transformRequest:function(data){return data},data:formData,cache:!1}).then(function(response){return $scope.user.details.imageUrl=response.data.url,$scope.userImageId=response.data.publicId,$scope.userImageUrl=response.data.url,response.data},function(response){return alert("Error loading file... Please try again."),response.data})},$scope.updateUserType=function(){"B"===user.summary.userType},$scope.saveUserInfo=function(){$scope.user.summary.lookinfForSkill=[],$scope.user.summary.industrys=[];var tags=[],isFormValid=!0;$scope.isSaveClicked=!0;for(var property in $scope.formControl)$scope.formControl.hasOwnProperty(property)&&0==$scope.formControl[property]&&(isFormValid=!1);if(isFormValid){for(var i=0;i<$scope.lookingfor.selected.length;i++)$scope.user.summary.lookinfForSkill.push($scope.lookingfor.selected[i].industryId);for(var i=0;i<$scope.states.length;i++)if($scope.states[i].stateId==$scope.user.details.stateId){$scope.user.summary.stateName=$scope.states[i].stateName,tags.push($scope.states[i].stateName);break}for(var i=0;i<$scope.selectedIndustries.selected.length;i++)$scope.user.summary.industrys.push($scope.selectedIndustries.selected[i].industryId),tags.push($scope.selectedIndustries.selected[i].industryName);"E"===$scope.user.summary.userType&&($scope.user.summary.companyUrl=""),$scope.waiting=!0,UserAuthentication.saveUserDetailProfile($scope.user).then(function(data){$rootScope.newUser=!1,$rootScope.profileCreated=1,$scope.firstLogin=null;var tagEntity={entityId:data.data.summary.userId,entityType:"USER_PROFILE",tags:tags};$http({url:"services/tag",method:"POST",data:tagEntity}).then(function(response){$scope.waiting=!1},function(error){console.log("TAG Entity error",error)})},function(data){console.log("error")})}}}]),angular.module("theme.demos.signup_page",["theme.core.services"]).controller("SignupPageController",["$rootScope","$scope","$theme","$timeout","UserAuthentication","$location","$route",function($rootScope,$scope,$theme,$timeout,UserAuthentication,$location,$route){"use strict";$theme.set("fullscreen",!0),$scope.$on("$destroy",function(){$theme.set("fullscreen",!1)}),$scope.email="",$scope.password="",$scope.loginForm={},$scope.form={},$scope.loginForm.email="",$scope.loginForm.password="",$scope.serverMessage="",$scope.waiting=!1;$route.current;$scope.$on("$locationChangeSuccess",function(){}),$scope.logIn=function(){$scope.waiting=!0;var apphistory=UserAuthentication.getuserRoutes();UserAuthentication.signInUser({email:$scope.loginForm.email,password:$scope.loginForm.password}).then(function(data){UserAuthentication.getUserDetails().then(function(response){$scope.waiting=!1,$scope.$emit("loginsuccess",response.data),$scope.serverMessage="","/login"===apphistory[0]?$location.path("/"):$location.path(apphistory[0])},function(){})},function(error){$scope.showServerMessage="Your username or password was not correct",$scope.waiting=!1})},$scope.$on("$routeChangeStart",function(){$scope.previouspath=$location.path()}),$scope.$on("$routeChangeSuccess",function(){}),$scope.canSubmitLoginForm=function(){return $scope.form.loginForm.$valid}}]).controller("NewSignUpController",["$rootScope","$scope","$theme","$timeout","UserAuthentication","$location","$route",function($rootScope,$scope,$theme,$timeout,UserAuthentication,$location,$route){$theme.set("fullscreen",!0),$scope.$on("$destroy",function(){$theme.set("fullscreen",!1)}),$scope.email="",$scope.password="",$scope.repeatpassword="",$scope.isrpwdError=!1,$scope.serverMessage="",$scope.waiting=!1,$scope.$watch("repeatpassword",function(newval,oldval){newval&&(newval!==$scope.password?($scope.signupform.$setValidity("repeatpassword",!1,$scope.signupform),$scope.isrpwdError=!0):($scope.signupform.$setValidity("repeatpassword",!0,$scope.signupform),$scope.isrpwdError=!1))}),$scope.register=function($event){if($event.preventDefault(),$scope.userRegistered=!1,$scope.showServerMessage="",$scope.email&&$scope.password&&$scope.repeatpassword){$scope.waiting=!0;UserAuthentication.getuserRoutes();UserAuthentication.registerUser({userName:$scope.email,password:$scope.password,email:$scope.email}).then(function(data){$scope.waiting=!1,$scope.email=$scope.password=$scope.repeatpassword="",$scope.showServerMessage="A registration email has been sent. Please click on the link sent to register."},function(error){$scope.waiting=!1,"USER_ALREADY_EXIST"===error.data.type?$scope.showServerMessage="Email id has already been registered with.":$scope.showServerMessage="Unknow error. Please try again."})}}}]).controller("RestPasswordController",["$scope","$theme","$http","$window",function($scope,$theme,$http,$window){$scope.waiting=!1,$theme.set("fullscreen",!0),$scope.$on("$destroy",function(){$theme.set("fullscreen",!1)}),$scope.reset=function(){$scope.waiting=!0,console.log("In reset"+$scope.resetEmail),$http({url:"services/resetPassword",method:"POST",data:{email:$scope.resetEmail}}).then(function(response){$scope.waiting=!1,$window.location.href="/#/login"},function(){$scope.waiting=!1})}}]).controller("ValidateRegisteredUser",["$scope","$theme","$http","$window","$timeout","$route","$location",function($scope,$theme,$http,$window,$timeout,$route,$location){$scope.registeredToken=$route.current.params.registeredToken,$scope.guid=$route.current.params.guid,$scope.waiting=!1,$timeout(function(){$scope.waiting=!0},1e3),$theme.set("fullscreen",!0),$scope.$on("$destroy",function(){$theme.set("fullscreen",!1)}),init=function(){$http({url:"/services/uservalidate/"+$scope.registeredToken+"/email/"+$scope.guid,method:"GET"}).then(function(response){$scope.waiting=!1;var userInfo={secureToken:response.data.secureToken,clientId:response.data.clientId};$window.localStorage.bk_userInfo=JSON.stringify(userInfo),userInfo.profileCreated=response.data.profileCreated,$scope.$emit("loginsuccess",userInfo),$location.path("/userprofile/firstLogin")},function(error){$scope.showServerMessage="User has already been registered.",$scope.waiting=!1})},init()}]),angular.module("theme.demos.not_found",["theme.core.services"]).controller("NotFoundController",["$scope","$theme",function($scope,$theme){"use strict";$theme.set("fullscreen",!0),$scope.$on("$destroy",function(){$theme.set("fullscreen",!1)})}]),angular.module("theme.demos.error_page",["theme.core.services"]).controller("ErrorPageController",["$scope","$theme",function($scope,$theme){"use strict";$theme.set("fullscreen",!0),$scope.$on("$destroy",function(){$theme.set("fullscreen",!1)})}]),angular.module("theme.demos.tasks",[]).controller("TasksController",["$scope",function($scope){"use strict";$scope.newTaskTitle="",$scope.newTaskLabelText="",$scope.showTasksTab=!0,$scope.showCompletedTab=!1,$scope.tasks=[{title:"Write documentation",label:"Due tomorrow",color:"success"},{title:"Compile Code",label:"Today",color:"danger"},{title:"Upload Files to Server",label:"6 days",color:"primary"},{title:"Call client",label:"Tomorrow",color:"warning"},{title:"Buy Milk",label:"Today",color:"danger"},{title:"Set up meeting with client",label:"Any day",color:"inverse"},{title:"Pay office rent and bills",label:"5 days from now",color:"success"}],$scope.tasksComplete=[{title:"Write documentation",label:"Due tomorrow",color:"success"},{title:"Set up meeting with client",label:"Any day",color:"inverse"},{title:"Pay office rent and bills",label:"5 days from now",color:"success"}],$scope.selectedItem={},$scope.options={},$scope.remove=function(scope){$scope.tasks.splice(scope.index(),1)},$scope.complete=function(scope,item){$scope.tasksComplete.push(item),$scope.tasks.splice(scope.index(),1)},$scope.incomplete=function(item,index){$scope.tasks.push(item),$scope.tasksComplete.splice(index,1)},$scope.newItem=function(title,label,color){""!==this.newTaskTitle&&($scope.tasks.push({title:title,label:label,color:color}),this.newTaskTitle="",this.newTaskLabelText="",this.showForm=!1)},$scope.edit=function(item){item.editing=!0,item.titlePrev=item.title,item.labelPrev=item.label,item.colorPrev=item.color},$scope.cancelEdit=function($event,item){27===$event.keyCode&&(item.title=item.titlePrev,item.label=item.labelPrev,item.color=item.colorPrev,item.editing=!1)},$scope.cancelAdd=function($event){27===$event.keyCode&&(this.newTaskTitle="",this.newTaskLabelText="",this.showForm=!1)},$scope.doneEditing=function(item){item.editing=!1}}]),angular.module("theme.demos.ui_components",[]),angular.module("theme.demos.ui_components",["theme.core.services"]).controller("AlertsController",["$scope","pinesNotifications","$window",function($scope,pinesNotifications,$window){"use strict";var _=$window._;$scope.alerts=[{type:"success",msg:"<strong>Well done!</strong> You successfully read this important alert message."},{type:"warning",msg:"<strong>Warning!</strong> Best check yo self, you're not looking too good."},{type:"info",msg:"<strong>Heads up!</strong> This alert needs your attention, but it's not super important."},{type:"danger",msg:"<strong>Oh snap!</strong> Change a few things up and try submitting again."}],$scope.addAlert=function(){var types=["info","warning","danger","success"];$scope.alerts.push({msg:"Alerts can be added dynamically!",type:_.shuffle(types).shift()})},$scope.closeAlert=function(index){$scope.alerts.splice(index,1)},$scope.simpleInfo=function(){pinesNotifications.notify({title:"New Thing",text:"Just to let you know, something happened.",type:"info"})},$scope.simpleSuccess=function(){pinesNotifications.notify({title:"New Thing",text:"Just to let you know, something happened.",type:"success"})},$scope.simpleError=function(){pinesNotifications.notify({title:"New Thing",text:"Just to let you know, something happened.",type:"error"})},$scope.stickyInfo=function(){pinesNotifications.notify({title:"Sticky Info",text:"Sticky info, you know, like a newspaper covered in honey.",type:"info",hide:!1})},$scope.stickySuccess=function(){pinesNotifications.notify({title:"Sticky Success",text:"Sticky success... I'm not even gonna make a joke.",type:"success",hide:!1})},$scope.stickyError=function(){pinesNotifications.notify({title:"Uh Oh!",text:"Something really terrible happened. You really need to read this, so I won't close automatically.",type:"error",hide:!1})},$scope.bigNotice=function(){pinesNotifications.notify({title:"Big Notice",text:"Check me out! I'm tall and wide, even though my text isn't.",width:"500px",type:"error",min_height:"400px"})},$scope.showRich=function(){pinesNotifications.notify({title:'<span style="color: red;">Rich Content Notice</span>',type:"success",text:'<span style="color: blue;">Look at my beautiful <strong>strong</strong>, <em>emphasized</em>, and <span style="font-size: 1.5em;">large</span> text.</span>'})},$scope.showDynamic=function(){var percent=0,notice=pinesNotifications.notify({title:"Please Wait",type:"info",icon:"fa fa-spin fa-refresh",hide:!1,closer:!1,sticker:!1,opacity:.75,shadow:!1,width:"200px"});setTimeout(function(){notice.notify({title:!1});var interval=setInterval(function(){percent+=2;var options={text:percent+"% complete."};80===percent&&(options.title="Almost There"),percent>=100&&(window.clearInterval(interval),options.title="Done!",options.type="success",options.hide=!0,options.closer=!0,options.sticker=!0,options.icon="fa fa-check",options.opacity=1,options.shadow=!0),notice.notify(options)},120)},2e3)},$scope.showNoHistory=function(){pinesNotifications.notify({title:"No History Notice",text:"I'm not part of the notice history, so if you redisplay the last message, it won't be me.",history:!1,type:"error"})},$scope.showNoSticky=function(){pinesNotifications.notify({title:"No Sticky Button Notice",text:"Check me out! I'm a sticky notice with no unsticky button. You'll have to close me yourself.",hide:!1,sticker:!1,type:"error"})},$scope.showPermanent=function(){pinesNotifications.notify({title:"Permanent Buttons Notice",text:"My buttons are really lonely, so they're gonna hang out with us.",closer_hover:!1,sticker_hover:!1,type:"error"})},$scope.showNoMouseReset=function(){pinesNotifications.notify({title:"No Mouse Reset Notice",text:"I don't care if you move your mouse over me, I'll disappear when I want.",mouse_reset:!1,type:"error"})},$scope.showChanging=function(){pinesNotifications.notify({title:"Notice",type:"error",text:"Right now I'm a notice.",before_close:function(notification){return notification.notify({title:"Error",text:"Uh oh. Now I've become an error.",type:"error",before_close:function(notification){return notification.notify({title:"Success",text:"I fixed the error!",type:"success",before_close:function(notification){return notification.notify({title:"Info",text:"Everything's cool now.",type:"info",before_close:null}),notification.queueRemove(),!1}}),notification.queueRemove(),!1}}),notification.queueRemove(),!1}})}}]),angular.module("theme.demos.ui_components").controller("ModalsDemoController",["$scope","$modal","$bootbox","$log","$window",function($scope,$modal,$bootbox,$log,$window){"use strict";var alert=$window.alert;$scope.items=["item1","item2","item3"],$scope.open=function(size){var modalInstance=$modal.open({templateUrl:"myModalContent.html",controller:function($scope,$modalInstance,items){$scope.items=items,$scope.selected={item:$scope.items[0]},$scope.ok=function(){$modalInstance.close($scope.selected.item)},$scope.cancel=function(){$modalInstance.dismiss("cancel")}},size:size,resolve:{items:function(){return $scope.items}}});modalInstance.result.then(function(selectedItem){$scope.selected=selectedItem},function(){$log.info("Modal dismissed at: "+new Date)})},$scope.openDemoModal=function(size){$modal.open({templateUrl:"demoModalContent.html",controller:function($scope,$modalInstance){$scope.cancel=function(){$modalInstance.dismiss("cancel")}},size:size})},$scope.openAlert=function(){$bootbox.alert("Hello world!")},$scope.openAlertWithCallback=function(){$bootbox.alert("Hello world!",function(){alert("You clicked OK!")})},$scope.openConfirm=function(){$bootbox.confirm("Are you sure?",function(result){alert("Confirm result: "+result)})},$scope.openPrompt=function(){$bootbox.prompt("What is your name?",function(result){alert(null===result?"Prompt dismissed":"Hi "+result+"!")})},$scope.openDialog=function(){$bootbox.dialog({message:"I am a custom dialog",title:"Custom title",buttons:{success:{label:"Success!",className:"btn-success",callback:function(){alert("great success")}},danger:{label:"Danger!",className:"btn-danger",callback:function(){alert("uh oh, look out!")}},main:{label:"Click ME!",className:"btn-primary",callback:function(){alert("Primary button")}}}})}}]),angular.module("theme.demos.ui_components").controller("NestedTreeDemoController",["$scope",function($scope){"use strict";$scope.list=[{id:1,title:"Write documentation",items:[]},{id:2,title:"Compile Code",items:[{id:21,title:"Upload Files to Server",items:[{id:211,title:"Call client",items:[]},{id:212,title:"Buy Milk",items:[]}]},{id:22,title:"Set up meeting with client",items:[]}]},{id:3,title:"Pay office rent and bills",items:[]},{id:4,title:"Read book",items:[]}],$scope.selectedItem={},$scope.options={},$scope.remove=function(scope){scope.remove()},$scope.toggle=function(scope){scope.toggle()},$scope.newSubItem=function(scope){var nodeData=scope.$modelValue;nodeData.items.push({id:10*nodeData.id+nodeData.items.length,title:nodeData.title+"."+(nodeData.items.length+1),items:[]})}}]),angular.module("theme.demos.ui_components").controller("PaginationAndPagingController",["$scope","$window",function($scope,$window){"use strict";$scope.totalItems=64,$scope.currentPage=4,$scope.pageChanged=function(){console.log("Page changed to: "+$scope.currentPage)},$scope.maxSize=5,$scope.bigTotalItems=175,$scope.bigCurrentPage=1,$scope.dpWithCallback={onSelectedDateChanged:function(event,date){$window.alert("Selected date: "+$window.moment(date).format("Do, MMM YYYY"))}}}]),angular.module("theme.demos.ui_components").controller("ProgressbarController",["$scope",function($scope){"use strict";$scope.rootPanels=[{active:!1},{active:!0}],$scope.max=200,$scope.random=function(){var type,value=Math.floor(100*Math.random()+1);type=25>value?"success":50>value?"info":75>value?"warning":"danger",$scope.showWarning="danger"===type||"warning"===type,$scope.dynamic=value,$scope.type=type},$scope.random(),$scope.randomStacked=function(){$scope.stacked=[];for(var types=["success","info","warning","danger"],i=0,n=Math.floor(4*Math.random()+1);n>i;i++){var index=Math.floor(4*Math.random());$scope.stacked.push({value:Math.floor(30*Math.random()+1),type:types[index]})}},$scope.randomStacked()}]),angular.module("theme.demos.ui_components").controller("RatingsDemoController",["$scope",function($scope){"use strict";$scope.rate=7,$scope.max=10,$scope.isReadonly=!1,$scope.hoveringOver=function(value){
this.overStar=value,this.percent=100*(value/$scope.max)},$scope.ratingStates=[{stateOn:"fa-check-circle",stateOff:"fa-check-circle-o"},{stateOn:"fa-star",stateOff:"fa-star-o"},{stateOn:"fa-heart",stateOff:"fa-heart-o"},{stateOn:"fa-heart"},{stateOff:"fa-heart-o"}]}]),angular.module("theme.demos.ui_components").controller("RangeAndSliderController",["$scope","progressLoader","$window",function($scope,progressLoader,$window){"use strict";var _=$window._,alert=$window.alert;$scope.percent=43,$scope.percentages=[53,65,23,99],$scope.epOpts=[{animate:{duration:1e3,enabled:!0},barColor:"#16a085",trackColor:"#edeef0",scaleColor:"#d2d3d6",lineWidth:2,size:90,lineCap:"circle"},{barColor:"#7ccc2e",trackColor:"#edeef0",scaleColor:"#d2d3d6",animate:{duration:1e3,enabled:!0},lineWidth:2,size:90,lineCap:"circle"},{animate:{duration:1e3,enabled:!0},barColor:"#e84747",trackColor:"#edeef0",scaleColor:"#d2d3d6",lineWidth:2,size:90,lineCap:"circle"},{barColor:"#8e44ad",trackColor:"#edeef0",scaleColor:"#d2d3d6",animate:{duration:1e3,enabled:!0},lineWidth:2,size:90,lineCap:"circle"}],$scope.randomizePie=function(){$scope.percentages=_.shuffle($scope.percentages)},$scope.loaderStart=function(){progressLoader.start(),setTimeout(function(){progressLoader.set(50)},1e3),setTimeout(function(){progressLoader.end()},1500)},$scope.loaderEnd=function(){progressLoader.end()},$scope.loaderSet=function(position){progressLoader.set(position)},$scope.loaderGet=function(){alert(progressLoader.get()+"%")},$scope.loaderInch=function(){progressLoader.inch(10)}}]),angular.module("theme.demos.ui_components").controller("TabsAndAccordionsDemoController",["$scope",function($scope){"use strict";$scope.oneAtATime=!0,$scope.groups=[{title:"Dynamic Group Header - 1",content:"Dynamic Group Body - 1"},{title:"Dynamic Group Header - 2",content:"Dynamic Group Body - 2"}],$scope.items=["Item 1","Item 2","Item 3"],$scope.addItem=function(){var newItemNo=$scope.items.length+1;$scope.items.push("Item "+newItemNo)},$scope.status={isFirstOpen:!0,isFirstDisabled:!1}}]),angular.module("theme.demos.ui_components").controller("TilesController",["$scope","$theme",function($scope,$theme){"use strict";$scope.$theme=$theme,$scope.simpleTiles=[{title:"Page Views",text:"1.6K",color:"info"},{title:"Likes",text:"345",color:"orange"},{title:"Bugs Fixed",text:"21",color:"danger"},{title:"New Members",text:"124",color:"midnightblue"},{title:"Gifts",text:"16",color:"purple"}],$scope.largeTiles=[{title:"Page Views",titleBarInfo:"-7.6%",text:"1.6K",color:"info",classes:"fa fa-eye"},{title:"Likes",titleBarInfo:"+15.4%",text:"345",color:"orange",classes:"fa fa-thumbs-o-up"},{title:"Bugs Fixed",titleBarInfo:"+10.4%",text:"21",color:"danger",classes:"fa fa-check-square"},{title:"New Members",titleBarInfo:"+25.4%",text:"124",color:"midnightblue",classes:"fa fa-group"},{title:"Gifts",titleBarInfo:"+15.4%",text:"16",color:"purple",classes:"fa fa-gift"},{title:"Profits",titleBarInfo:"+17.4%",text:"$2.5k",color:"success",classes:"fa fa-money"},{title:"Sales Revenue",titleBarInfo:"+24.4%",text:"$30.2k",color:"primary",classes:"fa fa-shopping-cart"},{title:"New Orders",titleBarInfo:"+15.4%",text:"679",color:"indigo",classes:"fa fa-comments"},{title:"Comments",titleBarInfo:"+22.4%",text:"32",color:"green",classes:"fa fa-comments"},{title:"Downloads",titleBarInfo:"+16.4%",text:"6.7K",color:"danger",classes:"fa fa-download"},{title:"Tasks",titleBarInfo:"+26.4%",text:"17",color:"magenta",classes:"fa fa-tasks"},{title:"Videos",titleBarInfo:"+6.4%",text:"31",color:"inverse",classes:"fa fa-video-camera"}],$scope.shortcutTiles=[{text:"Page Views",titleBarInfo:"7",color:"info",classes:"fa fa-eye"},{text:"Likes",titleBarInfo:"15",color:"orange",classes:"fa fa-thumbs-o-up"},{text:"Bugs Fixed",titleBarInfo:"+10",color:"danger",classes:"fa fa-check-square"},{text:"New Members",titleBarInfo:"+25",color:"midnightblue",classes:"fa fa-group"},{text:"Gifts",titleBarInfo:"15",color:"purple",classes:"fa fa-gift"},{text:"Profits",titleBarInfo:"17",color:"success",classes:"fa fa-money"},{text:"Sales Revenue",titleBarInfo:"24",color:"primary",classes:"fa fa-shopping-cart"},{text:"New Orders",titleBarInfo:"15",color:"indigo",classes:"fa fa-comments"},{text:"Comments",titleBarInfo:"22",color:"green",classes:"fa fa-comments"},{text:"Downloads",titleBarInfo:"16",color:"danger",classes:"fa fa-download"},{text:"Tasks",titleBarInfo:"26",color:"magenta",classes:"fa fa-tasks"},{text:"Videos",titleBarInfo:"4",color:"inverse",classes:"fa fa-video-camera"}]}]),angular.module("theme.demos.dashboard",["angular-skycons","theme.core.services"]).controller("DashboardController",["$scope","$timeout","$log","$window","$http","$location","$theme","$state","LookUpService",function($scope,$timeout,$log,$window,$http,$location,$theme,$state,LookUpService){"use strict";$window.moment,$window._;$theme.set("leftbarCollapsed",!0),$scope.$on("$destroy",function(){$theme.set("leftbarCollapsed",!1)}),$scope.selectedTag={selected:[]},$scope.selectedValues=void 0,$scope.selectedIndustries={selected:[]},$scope.selectedStates={selected:[]},LookUpService.getStates().then(function(data){$scope.states=data},function(error){$log.log(error)}),$scope.tags=[],$scope.tagTransform=function(newTag){var item={tagId:-1,name:newTag.toLowerCase()};return item},$timeout(function(){twttr.widgets.load(),FB.init({appId:"1628152447465336",status:!0,xfbml:!0,version:"v2.3"})},1e3),$scope.searchTags=function(){var keywords="",industry=$scope.selectedIndustries.selected.industryName,state=$scope.selectedStates.selected.stateName;industry&&(keywords=industry+","),state&&(keywords+=state+","),keywords=keywords.substring(0,keywords.lastIndexOf(",")),$timeout(function(){$location.path("/search/ALL/"+keywords)},100)},$scope.contactusForm={},$scope.resetValidationForm=function($event){$event.preventDefault(),$scope.contactusForm={}},$scope.contactus=function($event){$event.preventDefault(),$http({url:"services/contactus",method:"POST",data:{name:$scope.contactusForm.contacterName,email:$scope.contactusForm.email,mobileNo:$scope.contactusForm.mobile,subject:$scope.contactusForm.subject,message:$scope.contactusForm.message}}).then(function(response){$scope.message="success",$scope.alert={type:"success",msg:"Email sent succesfully. You would be contacted shortly."},$scope.contactusForm={}},function(error){$scope.alert={type:"alert",msg:"Email was not sent. Try again."}})},$scope.refreshTags=function(value){if(""!=value&&void 0!=value){var params={keyword:value};return $http.get("services/tag/names?",{params:params}).then(function(response){$scope.tags=response.data})}},$scope.industries=[],$http.get("utilservices/industries").success(function(response){$scope.industries=response}),$scope.myInterval=5e3;var slides=$scope.slides=[],images=["crusal1.jpg","crusal2.jpg","crusal3.jpg","crusal4.jpg","crusal5.jpg"],title=["First","Second","Third","Fourth","Fifth"];$scope.addSlide=function(){slides.push({image:"../../assets/img/"+images[slides.length],text:title[slides.length]})};for(var i=0;5>i;i++)$scope.addSlide()}]),angular.module("theme.demos.google_maps",["theme.google_maps"]).controller("GMapsController",["$scope","$window",function($scope,$window){"use strict";$scope.basicMapOptions={lat:-12.043333,lng:-77.028333},$scope.routeMapInstance={},$scope.routeMapOptions={lat:-12.043333,lng:-77.028333},$scope.startRoute=function($event){$event.preventDefault(),$scope.routeMapInstance.travelRoute({origin:[-12.044012922866312,-77.02470665341184],destination:[-12.090814532191756,-77.02271108990476],travelMode:"driving",step:function(e){angular.element("#instructions").append("<li>"+e.instructions+"</li>"),angular.element("#instructions li:eq("+e.step_number+")").delay(450*e.step_number).fadeIn(200,function(){$scope.routeMapInstance.setCenter(e.end_location.lat(),e.end_location.lng()),$scope.routeMapInstance.drawPolyline({path:e.path,strokeColor:"#131540",strokeOpacity:.6,strokeWeight:6})})}})},$scope.panoramicMapOptions={lat:-12.043333,lng:-77.028333};var infoWindow=new $window.google.maps.InfoWindow({});$scope.fusionMapInstance={},$scope.fusionMapOptions={zoom:11,lat:41.850033,lng:-87.6500523};var path=[[-12.044012922866312,-77.02470665341184],[-12.05449279282314,-77.03024273281858],[-12.055122327623378,-77.03039293652341],[-12.075917129727586,-77.02764635449216],[-12.07635776902266,-77.02792530422971],[-12.076819390363665,-77.02893381481931],[-12.088527520066453,-77.0241058385925],[-12.090814532191756,-77.02271108990476]];$scope.polylinesMapInstance={},$scope.polylinesMapOptions={lat:-12.043333,lng:-77.028333,click:function(e){console.log(e)}},$scope.geoCodingMapInstance={},$scope.geocodeAddress="Rio",$scope.submitGeocoding=function(address){$window.GMaps.geocode({address:address,callback:function(results,status){if("OK"===status){var latlng=results[0].geometry.location;$scope.geoCodingMapInstance.setCenter(latlng.lat(),latlng.lng()),$scope.geoCodingMapInstance.addMarker({lat:latlng.lat(),lng:latlng.lng()})}}})},$scope.$on("GMaps:created",function(event,mapInstance){mapInstance.key&&($scope[mapInstance.key]=mapInstance.map),"fusionMapInstance"===mapInstance.key?$scope.fusionMapInstance.loadFromFusionTables({query:{select:"'Geocodable address'",from:"1mZ53Z70NsChnBMm-qEYmSDOvLXgrreLTkQUvvg"},suppressInfoWindows:!0,events:{click:function(point){infoWindow.setContent("You clicked here!"),infoWindow.setPosition(point.latLng),infoWindow.open($window.fusion.map)}}}):"polylinesMapInstance"===mapInstance.key?$scope.polylinesMapInstance.drawPolyline({path:path,strokeColor:"#131540",strokeOpacity:.6,strokeWeight:6}):"geoCodingMapInstance"===mapInstance.key})}]),angular.module("theme.demos",["theme.demos.dashboard","theme.demos.registration_page","theme.demos.signup_page","theme.demos.filter","theme.demos.offer","theme.demos.request","theme.demos.myoffer","theme.demos.myrequest","theme.demos.chngpwd","theme.demos.myuser"]),angular.module("themesApp",["theme","theme.demos","StateService"]).config(["$provide","$routeProvider",function($provide,$routeProvider){"use strict";$routeProvider.when("/",{templateUrl:"views/index.html"}).when("/entitydetail/:type/:entityId",{templateUrl:"views/entitydetail.html",resolve:{auth:["$q","UserAuthentication","$location","$rootScope",function($q,authenticationSvc,$location,$rootScope){var userInfo=authenticationSvc.getToken();return userInfo?0===$rootScope.profileCreated?($location.url("/userprofile/filldetails"),!1):$q.when(userInfo):$q.reject({authenticated:!1,visitedroute:$location.url()})}]}}).when("/search/:type/:keywords",{templateUrl:"views/search.html"}).when("/userprofile/:message?",{templateUrl:"views/profile.html",controller:"RegistrationPageController",resolve:{auth:["$q","UserAuthentication","$location",function($q,authenticationSvc,$location){var userInfo=authenticationSvc.getToken();return userInfo?$q.when(userInfo):$q.reject({authenticated:!1,visitedroute:$location.url()})}]}}).when("/createoffer/:id?",{templateUrl:"views/createoffer.html",controller:"CreateOfferController",resolve:{auth:["$q","UserAuthentication","$location",function($q,authenticationSvc,$location){var userInfo=authenticationSvc.getToken();return userInfo?$q.when(userInfo):(console.log("current location",$location),$q.reject({authenticated:!1,visitedroute:$location.url()}))}]}}).when("/createrequest/:id?",{templateUrl:"views/createrequest.html",resolve:{auth:["$q","UserAuthentication","$location",function($q,authenticationSvc,$location){var userInfo=authenticationSvc.getToken();return userInfo?$q.when(userInfo):(console.log("current location",$location),$q.reject({authenticated:!1,visitedroute:$location.url()}))}]}}).when("/myoffers",{templateUrl:"views/myoffers.html",resolve:{auth:["$q","UserAuthentication","$location",function($q,authenticationSvc,$location){var userInfo=authenticationSvc.getToken();return userInfo?$q.when(userInfo):(console.log("current location",$location),$q.reject({authenticated:!1,visitedroute:$location.url()}))}]}}).when("/myrequests",{templateUrl:"views/myrequests.html",resolve:{auth:["$q","UserAuthentication","$location",function($q,authenticationSvc,$location){var userInfo=authenticationSvc.getToken();return userInfo?$q.when(userInfo):(console.log("current location",$location),$q.reject({authenticated:!1,visitedroute:$location.url()}))}]}}).when("/goipolicy",{templateUrl:"views/form-goi.html"}).when("/userprofile/validate/:registeredToken/email/:guid",{templateUrl:"views/validateregistereduser.html"}).when("/login",{templateUrl:"views/login.html",resolve:{auth:["$q","UserAuthentication","$location",function($q,authenticationSvc,$location){var userInfo=authenticationSvc.getToken();userInfo&&$location.path("#/")}]}}).when("/signupform",{templateUrl:"views/signupform.html"}).when("/admin/manageusers",{templateUrl:"views/viewusers.html",resolve:{auth:["$q","UserAuthentication","$location",function($q,authenticationSvc,$location){var userInfo=authenticationSvc.getToken();return userInfo?$q.when(userInfo):(console.log("current location",$location),$q.reject({authenticated:!1,visitedroute:$location.url()}))}]}}).when("#",{templateUrl:"views/index.html"}).when("/changepassword",{templateUrl:"views/changepassword.html",resolve:{auth:["$q","UserAuthentication","$location",function($q,authenticationSvc,$location){var userInfo=authenticationSvc.getToken();return userInfo?$q.when(userInfo):(console.log("current location",$location),$q.reject({authenticated:!1,visitedroute:$location.url()}))}]}}).when("/resetpassword",{templateUrl:"views/resetpassword.html"}).when("/contactus",{templateUrl:"views/contactus.html"}).otherwise({redirectTo:"/"})}]).run(["$rootScope","$location","UserAuthentication",function($rootScope,$location,UserAuthentication){$rootScope.$on("$routeChangeError",function(event,current,previous,eventObj){if(eventObj.authenticated===!1){$location.path("/login");var apphistory=UserAuthentication.getuserRoutes();if(apphistory&&0==apphistory.length)apphistory.push(eventObj.visitedroute);else if(apphistory&&1==apphistory.length)apphistory.push(eventObj.visitedroute);else if(apphistory&&apphistory.length>1){var previous=apphistory.pop();apphistory[0]=previous,apphistory[1]=eventObj.visitedroute}UserAuthentication.setuserRoutes(apphistory),console.log("Rootscope success in app.js",$location),$rootScope.currentroute&&($rootScope.previous=eventObj.visitedroute,$rootScope.current=eventObj.visitedroute)}}),$rootScope.$on("$routeChangeSuccess",function(){var apphistory=UserAuthentication.getuserRoutes();if(apphistory&&0==apphistory.length)apphistory.push($location.$$path);else if(apphistory&&1==apphistory.length)apphistory.push($location.$$path);else if(apphistory&&apphistory.length>1){var previous=apphistory.pop();apphistory[0]=previous,apphistory[1]=$location.$$path}UserAuthentication.setuserRoutes(apphistory),console.log("Rootscope success in app.js",$location),$rootScope.currentroute&&($rootScope.previous=$location.$$path,$rootScope.current=$location.$$path)})}]),function(){!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];d.getElementById(id)||(js=d.createElement(s),js.id=id,js.src="//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.4&appId=1628152447465336",fjs.parentNode.insertBefore(js,fjs))}(document,"script","facebook-jssdk")}(),angular.module("theme.google_maps",[]).service("GMaps",["$rootScope","$window",function($rootScope,$window){"use strict";this["new"]=function(options,instance){var gmaps=new $window.GMaps(options);$rootScope.$broadcast("GMaps:created",{key:instance,map:gmaps})},this.newPanorama=function(options,instance){var gmaps=$window.GMaps.createPanorama(options);$rootScope.$broadcast("GMaps:created",{key:instance,map:gmaps})}}]).directive("gmap",["$timeout","GMaps",function($timeout,GMaps){"use strict";return{restrict:"A",scope:{options:"=",instance:"@"},link:function(scope,element,attr){attr.id||(attr.id=Math.random().toString(36).substring(7),element.attr("id",attr.id)),scope.options.el="#"+attr.id,void 0!==attr.panorama?GMaps.newPanorama(scope.options,scope.instance):GMaps["new"](scope.options,scope.instance)}}}]);